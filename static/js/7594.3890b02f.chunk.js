"use strict";(self.webpackChunkmrgrd56_github_io=self.webpackChunkmrgrd56_github_io||[]).push([[7594],{67594:function(e,r,n){n.r(r),n.d(r,{default:function(){return U}});var t=n(29439),a=n(15861),s=n(87757),i=n.n(s),c=n(72791),u=n(78410),o=n(13085),l=n(98443),d=n(19603),f=n(83099),p=n(51992),x=n(80383),h=n(37083),v=n(77106),Z=n(79286),m=n(97563),g=n(66023),b=n(11096),j=n(763),w=n(1951),k=n(13597),y=n(4717),S=n(78937),C=n(1987),E=n(40186),L=n(44038),_=n(80184),N=function(){var e=(0,a.Z)(i().mark((function e(r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.Z)(r);case 2:return n=e.sent,e.abrupt("return",{blob:r,base64:n});case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),P=function(e){return/^image\/.+$/.test(e.type)},R=(0,_.jsxs)(k.Z,{type:"secondary",children:["uses ",(0,_.jsx)(C.Z,{href:(0,E.Z)("qr-scanner"),children:"qr-scanner"})]}),U=function(){var e=(0,c.useState)(!1),r=(0,t.Z)(e,2),n=r[0],s=r[1],C=(0,c.useState)(!1),E=(0,t.Z)(C,2),L=E[0],U=E[1],q=(0,c.useState)(),Q=(0,t.Z)(q,2),D=Q[0],F=Q[1],O=(0,c.useState)(""),T=(0,t.Z)(O,2),z=T[0],A=T[1];(0,c.useEffect)((function(){(0,w.Z)((0,a.Z)(i().mark((function e(){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,j.isNil)(D)){e.next=3;break}return A(""),e.abrupt("return");case 3:return e.prev=3,U(!0),e.next=7,b.Z.scanImage(D.blob,{});case 7:r=e.sent,n=(0,j.isString)(r)?r:r.data,A(n),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),o.Z.error({message:String(e.t0)}),A("");case 16:return e.prev=16,U(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,12,16,19]])}))))}),[D]);var I=(0,c.useCallback)(function(){var e=(0,a.Z)(i().mark((function e(r){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("uploading"!==r.file.status){e.next=3;break}return s(!0),e.abrupt("return");case 3:if(!(n=r.file.originFileObj)){e.next=11;break}return t="image/svg+xml"===n.type?n.slice(0,n.size,"image/png"):n,e.t0=F,e.next=9,N(t);case 9:e.t1=e.sent,(0,e.t0)(e.t1);case 11:s(!1);case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[]),V=(0,c.useCallback)(function(){var e=(0,a.Z)(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=F,e.next=3,N(r.clipboardData.files[0]);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[]);return(0,_.jsx)(u.Z,{title:"QR Code Scanner",onPaste:V,titleExtra:R,children:(0,_.jsx)(l.Z,{children:(0,_.jsxs)(d.Z,{className:"w-100",children:[(0,_.jsx)(l.Z,{children:(0,_.jsxs)(f.Z,{children:[D&&(0,_.jsx)("div",{className:"QrScannerPage_image-thumb",children:(0,_.jsx)(p.Z,{src:D.base64,width:128,height:128})}),(0,_.jsx)(y.Z,{rotate:!0,maxZoom:30,children:(0,_.jsx)(x.Z,{className:"QrScannerPage_image-upload",listType:"picture-card",showUploadList:!1,beforeUpload:P,onChange:I,accept:"image/*, *",customRequest:m.Z,children:(0,_.jsxs)(f.Z,{direction:"vertical",children:[n?(0,_.jsx)(v.Z,{}):(0,_.jsx)(Z.Z,{}),(0,_.jsxs)("div",{children:["Upload ",(0,_.jsx)("br",{}),(0,_.jsx)(k.Z,{type:"secondary",children:"or Ctrl+V"})]})]})})})]})}),(0,_.jsxs)(d.Z,{xs:24,lg:12,children:[(0,_.jsx)(h.Z,{spinning:L,children:(0,_.jsx)(g.default,{value:z,readOnly:!0,rows:6})}),(0,_.jsx)(S.Z,{value:z,className:"mt-1"})]})]})})})}},97563:function(e,r){r.Z=function(e){var r=e.onSuccess;setTimeout((function(){null===r||void 0===r||r("ok")}),0)}},44038:function(e,r,n){n.d(r,{Z:function(){return a}});var t=function(e){return new Promise((function(r,n){var t=new FileReader;t.addEventListener("load",(function e(n){var a;t.removeEventListener("load",e),r(null===(a=n.target)||void 0===a?void 0:a.result)})),t.addEventListener("error",(function e(r){t.removeEventListener("error",e),n(r)})),e(t)}))},a=function(e){return t((function(r){r.readAsDataURL(e)}))}}}]);
//# sourceMappingURL=7594.3890b02f.chunk.js.map