"use strict";(self.webpackChunkmrgrd56_github_io=self.webpackChunkmrgrd56_github_io||[]).push([[7594],{67594:function(e,n,r){r.r(n),r.d(n,{default:function(){return U}});var t=r(29439),a=r(15861),s=r(87757),i=r.n(s),c=r(72791),u=r(78410),o=r(13085),l=r(98443),d=r(19603),f=r(83099),p=r(51992),h=r(80383),x=r(37083),v=r(77106),Z=r(79286),m=r(97563),g=r(66023),b=r(11096),j=r(763),w=r(1951),k=r(13597),y=r(4717),S=r(78937),C=r(1987),E=r(40186),L=r(44038),_=r(80184),N=function(){var e=(0,a.Z)(i().mark((function e(n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.Z)(n);case 2:return r=e.sent,e.abrupt("return",{blob:n,base64:r});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),P=function(e){return/^image\/.+$/.test(e.type)},R=(0,_.jsxs)(k.Z,{type:"secondary",children:["uses ",(0,_.jsx)(C.Z,{href:(0,E.Z)("qr-scanner"),children:"qr-scanner"})]}),U=function(){var e=(0,c.useState)(!1),n=(0,t.Z)(e,2),r=n[0],s=n[1],C=(0,c.useState)(!1),E=(0,t.Z)(C,2),L=E[0],U=E[1],q=(0,c.useState)(),Q=(0,t.Z)(q,2),D=Q[0],F=Q[1],O=(0,c.useState)(""),T=(0,t.Z)(O,2),z=T[0],A=T[1];(0,c.useEffect)((function(){(0,w.Z)((0,a.Z)(i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,j.isNil)(D)){e.next=3;break}return A(""),e.abrupt("return");case 3:return e.prev=3,U(!0),e.next=7,b.Z.scanImage(D.blob,{});case 7:n=e.sent,r=(0,j.isString)(n)?n:n.data,A(r),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),o.Z.error({message:String(e.t0)}),A("");case 16:return e.prev=16,U(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,12,16,19]])}))))}),[D]);var I=(0,c.useCallback)(function(){var e=(0,a.Z)(i().mark((function e(n){var r,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("uploading"!==n.file.status){e.next=3;break}return s(!0),e.abrupt("return");case 3:if(!(r=n.file.originFileObj)){e.next=11;break}return t="image/svg+xml"===r.type?r.slice(0,r.size,"image/png"):r,e.t0=F,e.next=9,N(t);case 9:e.t1=e.sent,(0,e.t0)(e.t1);case 11:s(!1);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]),V=(0,c.useCallback)(function(){var e=(0,a.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=F,e.next=3,N(n.clipboardData.files[0]);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]);return(0,_.jsx)(u.Z,{title:"QR Code Scanner",onPaste:V,titleExtra:R,children:(0,_.jsx)(l.Z,{children:(0,_.jsxs)(d.Z,{className:"w-100",children:[(0,_.jsx)(l.Z,{children:(0,_.jsxs)(f.Z,{children:[D&&(0,_.jsx)("div",{className:"QrScannerPage_image-thumb",children:(0,_.jsx)(p.Z,{src:D.base64,width:128,height:128})}),(0,_.jsx)(y.Z,{rotate:!0,maxZoom:30,children:(0,_.jsx)(h.Z,{className:"QrScannerPage_image-upload",listType:"picture-card",showUploadList:!1,beforeUpload:P,onChange:I,accept:"image/*, *",customRequest:m.Z,children:(0,_.jsxs)(f.Z,{direction:"vertical",children:[r?(0,_.jsx)(v.Z,{}):(0,_.jsx)(Z.Z,{}),(0,_.jsxs)("div",{children:["Upload ",(0,_.jsx)("br",{}),(0,_.jsx)(k.Z,{type:"secondary",children:"or Ctrl+V"})]})]})})})]})}),(0,_.jsxs)(d.Z,{xs:24,lg:12,children:[(0,_.jsx)(x.Z,{spinning:L,children:(0,_.jsx)(g.default,{value:z,readOnly:!0,rows:6})}),(0,_.jsx)(S.Z,{value:z,className:"mt-1"})]})]})})})}},97563:function(e,n){n.Z=function(e){var n=e.onSuccess;setTimeout((function(){null===n||void 0===n||n("ok")}),0)}},40186:function(e,n){n.Z=function(e){return"https://www.npmjs.com/package/".concat(e)}},44038:function(e,n,r){r.d(n,{Z:function(){return a}});var t=function(e){return new Promise((function(n,r){var t=new FileReader;t.addEventListener("load",(function e(r){var a;t.removeEventListener("load",e),n(null===(a=r.target)||void 0===a?void 0:a.result)})),t.addEventListener("error",(function e(n){t.removeEventListener("error",e),r(n)})),e(t)}))},a=function(e){return t((function(n){n.readAsDataURL(e)}))}}}]);
//# sourceMappingURL=7594.27cfce56.chunk.js.map