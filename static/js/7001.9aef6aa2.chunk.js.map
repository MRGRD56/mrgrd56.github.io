{"version":3,"file":"static/js/7001.9aef6aa2.chunk.js","mappings":"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","sources":["hooks/debouncedMemo.ts","layouts/pages/pageContainer/PageContainer.tsx","webpack://mrgrd56.github.io/./src/layouts/pages/pageContainer/PageContainer.module.scss?0d25","webpack://mrgrd56.github.io/./src/pages/bgGeneratorPage/BgGeneratorPage.module.scss?56cf","utils/stringifySize.ts","utils/getWindowSize.ts","pages/bgGeneratorPage/BgGeneratorPage.tsx","utils/getScaledScreenSize.ts","utils/getScreenSize.ts"],"sourcesContent":["import { DependencyList, useEffect, useRef, useState } from 'react';\nimport { debounce, isObject, throttle } from 'lodash';\nimport { v4 } from 'uuid';\nimport call from '../utils/call';\nimport useAutoRef from './useAutoRef';\n\ninterface NoResult {\n    readonly _noResult: string;\n}\n\nconst isNoResult = <T>(value: T | NoResult, noResult: NoResult): value is NoResult => {\n    return isObject(value) && '_noResult' in value && value === noResult; //TODO just value === noResult ?\n};\n\ntype MemoFactory<R> = (noResult: NoResult) => R | Promise<R> | NoResult;\n\nconst createDebouncedMemoHook =\n    (debounceFn: typeof debounce) =>\n    <R>(factory: MemoFactory<R>, deps: DependencyList | undefined, wait?: number) => {\n        const [value, setValue] = useState<R>();\n        const factoryRef = useAutoRef(factory);\n\n        const debounceFunction = useRef(\n            call(() => {\n                const actualNoResult: NoResult = Object.freeze({\n                    _noResult: v4()\n                });\n\n                return debounceFn(async () => {\n                    const value = factoryRef.current(actualNoResult);\n\n                    if (!isNoResult(value, actualNoResult)) {\n                        setValue(await value);\n                    }\n                }, wait);\n            })\n        ).current;\n\n        useEffect(() => {\n            debounceFunction();\n        }, deps);\n\n        return value;\n    };\n\nexport const useDebouncedMemo = createDebouncedMemoHook(debounce);\nexport const useThrottledMemo = createDebouncedMemoHook(throttle);\n\n// const useDebouncedMemo = <T>(factory: () => T, deps: DependencyList | undefined, wait?: number) => {\n//     const [value, setValue] = useState<T>();\n//\n//     const timeoutRef = useRef<NodeJS.Timeout>();\n//\n//\n// };\n","import React, { ReactNode, useMemo } from 'react';\nimport styles from './PageContainer.module.scss';\nimport { Space, SpaceProps, Tag } from 'antd';\nimport Paragraph from 'antd/lib/typography/Paragraph';\nimport { ClockCircleOutlined, WarningOutlined } from '@ant-design/icons';\nimport classNames from 'classnames';\n\nexport enum PageTag {\n    WIP = 'WIP',\n    NOT_WORKING = 'NOT_WORKING'\n}\n\nexport interface PageContainerProps extends Omit<SpaceProps, 'title'> {\n    contentRef?: React.Ref<HTMLDivElement>;\n    contentClassName?: string;\n    title?: ReactNode;\n    description?: ReactNode;\n    titleExtra?: ReactNode;\n    tags?: PageTag[];\n    noPadding?: boolean;\n    noContentPadding?: boolean;\n}\n\nconst getTagNodes = (key: number | string): Readonly<Record<PageTag, ReactNode>> => ({\n    [PageTag.WIP]: (\n        <Tag color=\"blue\" icon={<ClockCircleOutlined />} key={key}>\n            Work In Progress\n        </Tag>\n    ),\n    [PageTag.NOT_WORKING]: (\n        <Tag color=\"red\" icon={<WarningOutlined />} key={key}>\n            Not Working\n        </Tag>\n    )\n});\n\nconst renderTag = (tag: PageTag, index: number) => getTagNodes(index)[tag];\n\nconst PageContainer = React.forwardRef<HTMLDivElement, PageContainerProps>((props, ref) => {\n    const {\n        title,\n        description,\n        titleExtra,\n        tags,\n        noPadding,\n        noContentPadding,\n        children,\n        className,\n        contentClassName,\n        contentRef,\n        ...restProps\n    } = props;\n\n    const renderedTags = useMemo(() => tags?.map(renderTag), [tags]);\n\n    return (\n        <div\n            ref={ref}\n            className={classNames(\n                styles.container,\n                {\n                    [styles.noPadding]: noPadding,\n                    [styles.noContentPadding]: noContentPadding\n                },\n                className\n            )}\n            {...restProps}\n        >\n            {tags?.length && <div>{renderedTags}</div>}\n            {title && (\n                <Space direction=\"horizontal\" size=\"middle\" className={styles.headingContainer}>\n                    <h1 className=\"mb-0\">{title}</h1>\n                    {titleExtra}\n                </Space>\n            )}\n            {description && <Paragraph className=\"mb-2\">{description}</Paragraph>}\n\n            <div className={classNames(styles.contentContainer, contentClassName)} ref={contentRef}>\n                {children}\n            </div>\n        </div>\n    );\n});\n\nexport default PageContainer;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"PageContainer_container__KmrZF\",\"noPadding\":\"PageContainer_noPadding__74Oon\",\"noContentPadding\":\"PageContainer_noContentPadding__rSQgs\",\"headingContainer\":\"PageContainer_headingContainer__ScW-F\",\"contentContainer\":\"PageContainer_contentContainer__l-gCb\"};","// extracted by mini-css-extract-plugin\nexport default {\"antd-text-primary\":\"BgGeneratorPage_antd-text-primary__e4nyv\",\"ant-tabs-first-tab-indent\":\"BgGeneratorPage_ant-tabs-first-tab-indent__LQvG2\",\"ant-tabs-tab\":\"BgGeneratorPage_ant-tabs-tab__IIukw\",\"ant-tabs-no-w100-but-max\":\"BgGeneratorPage_ant-tabs-no-w100-but-max__csmu5\",\"ant-tabs-tabpane\":\"BgGeneratorPage_ant-tabs-tabpane__LP51x\",\"resultImage\":\"BgGeneratorPage_resultImage__M-RJS\",\"sizeButtonsContainer\":\"BgGeneratorPage_sizeButtonsContainer__EJ6-H\"};","import { Size } from '../types';\n\nconst stringifySize = ({ width, height }: Size): string => `${width}x${height}`;\n\nexport default stringifySize;\n","import { Size } from '../types';\n\nconst getWindowSize = (): Size => {\n    const { innerWidth, innerHeight } = window;\n\n    return {\n        width: innerWidth,\n        height: innerHeight\n    };\n};\n\nexport default getWindowSize;\n","import React, { useCallback, useRef, useState } from 'react';\nimport styles from './BgGeneratorPage.module.scss';\nimport PageContainer from '../../layouts/pages/pageContainer/PageContainer';\nimport ExternalLink from '../../components/ExternalLink';\nimport { Button, Col, Image, InputNumber, Row, Space } from 'antd';\nimport { Size } from '../../types';\nimport getScaledScreenSize from '../../utils/getScaledScreenSize';\nimport { ColorChangeHandler, SketchPicker } from 'react-color';\nimport stringifySize from '../../utils/stringifySize';\nimport { useDebouncedMemo } from '../../hooks/debouncedMemo';\nimport getWindowSize from '../../utils/getWindowSize';\nimport getScreenSize from '../../utils/getScreenSize';\nimport './BgGeneratorPage.scss';\n\nconst generateImage = ({ width, height }: Size, color: string, imgCanvas: HTMLCanvasElement): string | undefined => {\n    if (width < 0 || height < 0) {\n        return;\n    }\n\n    const imgCanvasContext = imgCanvas.getContext('2d');\n\n    if (!imgCanvasContext) {\n        return;\n    }\n\n    imgCanvas.width = width;\n    imgCanvas.height = height;\n    imgCanvasContext.fillStyle = color;\n    imgCanvasContext.fillRect(0, 0, width, height);\n    return imgCanvas.toDataURL('image/png');\n};\n\nconst BgGeneratorPage = () => {\n    const imgCanvasRef = useRef<HTMLCanvasElement>(null);\n\n    const [size, setSize] = useState<Size>(getScaledScreenSize());\n    const [color, setColor] = useState<string>('#42a5f5');\n    const imgSource = useDebouncedMemo(\n        () => {\n            if (!imgCanvasRef.current) {\n                return;\n            }\n\n            return generateImage(size, color, imgCanvasRef.current);\n        },\n        [size, color],\n        50\n    );\n\n    const handleColorChange = useCallback<ColorChangeHandler>(({ rgb }) => {\n        const { r, g, b, a } = rgb;\n        setColor(`rgba(${r}, ${g}, ${b}, ${a})`);\n    }, []);\n\n    const handleSizeChange = useCallback(\n        (sizeKey: keyof Size) => (value: number) => {\n            setSize((currentSize) => ({\n                ...currentSize,\n                [sizeKey]: value\n            }));\n        },\n        []\n    );\n\n    const handleUseSize = (sizeFunction: () => Size) => () => {\n        setSize(sizeFunction());\n    };\n\n    return (\n        <PageContainer\n            title=\"Background Generator\"\n            description=\"Generates a simple background of the specified size and color\"\n            titleExtra={\n                <ExternalLink href=\"https://mrgrd56.github.io/bg-generator\">Check out old version</ExternalLink>\n            }\n        >\n            <canvas className=\"d-none\" ref={imgCanvasRef} />\n            <Col>\n                <Row gutter={16}>\n                    <Col className=\"mb-3\">\n                        <SketchPicker\n                            color={color}\n                            onChange={handleColorChange}\n                            className=\"BgGeneratorPage_color-picker\"\n                        />\n                    </Col>\n                    <Col className=\"mb-3\">\n                        <Space direction=\"vertical\">\n                            <Row gutter={10} align=\"middle\">\n                                <Col span={8}>\n                                    <label htmlFor=\"width-input\">Width</label>\n                                </Col>\n                                <Col>\n                                    <InputNumber\n                                        id=\"width-input\"\n                                        value={size.width}\n                                        onChange={handleSizeChange('width')}\n                                    />\n                                </Col>\n                            </Row>\n                            <Row gutter={10} align=\"middle\">\n                                <Col span={8}>\n                                    <label htmlFor=\"height-input\">Height</label>\n                                </Col>\n                                <Col>\n                                    <InputNumber\n                                        id=\"height-input\"\n                                        value={size.height}\n                                        onChange={handleSizeChange('height')}\n                                    />\n                                </Col>\n                            </Row>\n                            <Row className={styles.sizeButtonsContainer}>\n                                <Button onClick={handleUseSize(getScaledScreenSize)}>\n                                    Use scaled screen size {stringifySize(getScaledScreenSize())}\n                                </Button>\n                                <Button onClick={handleUseSize(getScreenSize)}>\n                                    Use screen size {stringifySize(getScreenSize())}\n                                </Button>\n                                <Button onClick={handleUseSize(getWindowSize)}>\n                                    Use window size {stringifySize(getWindowSize())}\n                                </Button>\n                            </Row>\n                        </Space>\n                    </Col>\n                </Row>\n                <Col>\n                    <Image src={imgSource} className={styles.resultImage} />\n                </Col>\n            </Col>\n        </PageContainer>\n    );\n};\n\nexport default BgGeneratorPage;\n","import { Size } from '../types';\nimport { round } from 'lodash';\n\nconst getScaledScreenSize = (): Size => {\n    const { devicePixelRatio } = window;\n    const { width, height } = window.screen;\n\n    return {\n        width: round(width * devicePixelRatio),\n        height: round(height * devicePixelRatio)\n    };\n};\n\nexport default getScaledScreenSize;\n","import { Size } from '../types';\nimport { pick } from 'lodash';\n\nconst getScreenSize = (): Size => pick(window.screen, ['width', 'height']);\n\nexport default getScreenSize;\n"],"names":["isNoResult","value","noResult","isObject","createDebouncedMemoHook","debounceFn","factory","deps","wait","useState","setValue","factoryRef","useAutoRef","debounceFunction","useRef","call","actualNoResult","Object","freeze","_noResult","v4","current","useEffect","useDebouncedMemo","debounce","throttle","PageTag","getTagNodes","key","WIP","color","icon","ClockCircleOutlined","NOT_WORKING","WarningOutlined","renderTag","tag","index","React","props","ref","title","description","titleExtra","tags","noPadding","noContentPadding","children","className","contentClassName","contentRef","restProps","renderedTags","useMemo","map","classNames","styles","length","direction","size","Paragraph","width","height","window","innerWidth","innerHeight","imgCanvasRef","getScaledScreenSize","setSize","setColor","imgSource","imgCanvas","imgCanvasContext","getContext","fillStyle","fillRect","toDataURL","generateImage","handleColorChange","useCallback","rgb","r","g","b","a","handleSizeChange","sizeKey","currentSize","handleUseSize","sizeFunction","PageContainer","ExternalLink","href","gutter","onChange","align","span","htmlFor","id","onClick","stringifySize","getScreenSize","getWindowSize","src","devicePixelRatio","screen","round","pick"],"sourceRoot":""}