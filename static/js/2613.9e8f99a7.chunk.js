/*! For license information please see 2613.9e8f99a7.chunk.js.LICENSE.txt */
(self.webpackChunkmrgrd56_github_io=self.webpackChunkmrgrd56_github_io||[]).push([[2613],{79286:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(1413),o=n(72791),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},i=n(21952),s=function(e,t){return o.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:a}))};s.displayName="PlusOutlined";var c=o.forwardRef(s)},76658:function(e,t,n){"use strict";n.d(t,{Z:function(){return ge}});var r=n(72791),o=n(83711),a=n(93486),i=n(71002),s=n(4942),c=n(87462),u=n(29439),l=n(93433),d=n(81694),h=n.n(d),p=n(79613),f=n.n(p),v=n(75179),m=n(44925),g=n(1413),y=n(11354),b=r.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0});function w(e,t,n){return(e-t)/(n-t)}function x(e,t,n,r){var o=w(t,n,r),a={};switch(e){case"rtl":a.right="".concat(100*o,"%"),a.transform="translateX(50%)";break;case"btt":a.bottom="".concat(100*o,"%"),a.transform="translateY(50%)";break;case"ttb":a.top="".concat(100*o,"%"),a.transform="translateY(-50%)";break;default:a.left="".concat(100*o,"%"),a.transform="translateX(-50%)"}return a}function C(e,t){return Array.isArray(e)?e[t]:e}var S=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"];var _=r.forwardRef((function(e,t){var n,o,a=e.prefixCls,i=e.value,u=e.valueIndex,l=e.onStartMove,d=e.style,p=e.render,f=e.dragging,v=e.onOffsetChange,w=(0,m.Z)(e,S),_=r.useContext(b),k=_.min,E=_.max,M=_.direction,R=_.disabled,P=_.range,Z=_.tabIndex,O=_.ariaLabelForHandle,D=_.ariaLabelledByForHandle,z=_.ariaValueTextFormatterForHandle,L="".concat(a,"-handle"),T=function(e){R||l(e,u)},F=x(M,i,k,E),A=r.createElement("div",(0,c.Z)({ref:t,className:h()(L,(n={},(0,s.Z)(n,"".concat(L,"-").concat(u+1),P),(0,s.Z)(n,"".concat(L,"-dragging"),f),n)),style:(0,g.Z)((0,g.Z)({},F),d),onMouseDown:T,onTouchStart:T,onKeyDown:function(e){if(!R){var t=null;switch(e.which||e.keyCode){case y.Z.LEFT:t="ltr"===M||"btt"===M?-1:1;break;case y.Z.RIGHT:t="ltr"===M||"btt"===M?1:-1;break;case y.Z.UP:t="ttb"!==M?1:-1;break;case y.Z.DOWN:t="ttb"!==M?-1:1;break;case y.Z.HOME:t="min";break;case y.Z.END:t="max";break;case y.Z.PAGE_UP:t=2;break;case y.Z.PAGE_DOWN:t=-2}null!==t&&(e.preventDefault(),v(t,u))}},tabIndex:R?null:C(Z,u),role:"slider","aria-valuemin":k,"aria-valuemax":E,"aria-valuenow":i,"aria-disabled":R,"aria-label":C(O,u),"aria-labelledby":C(D,u),"aria-valuetext":null===(o=C(z,u))||void 0===o?void 0:o(i)},w));return p&&(A=p(A,{index:u,prefixCls:a,value:i,dragging:f})),A})),k=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"];var E=r.forwardRef((function(e,t){var n=e.prefixCls,o=e.style,a=e.onStartMove,i=e.onOffsetChange,s=e.values,u=e.handleRender,l=e.draggingIndex,d=(0,m.Z)(e,k),h=r.useRef({});return r.useImperativeHandle(t,(function(){return{focus:function(e){var t;null===(t=h.current[e])||void 0===t||t.focus()}}})),r.createElement(r.Fragment,null,s.map((function(e,t){return r.createElement(_,(0,c.Z)({ref:function(e){e?h.current[t]=e:delete h.current[t]},dragging:l===t,prefixCls:n,style:C(o,t),key:t,value:e,valueIndex:t,onStartMove:a,onOffsetChange:i,render:u},d))})))}));function M(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function R(e){var t=e.prefixCls,n=e.style,o=e.start,a=e.end,i=e.index,s=e.onStartMove,c=r.useContext(b),u=c.direction,l=c.min,d=c.max,p=c.disabled,f=c.range,v="".concat(t,"-track"),m=w(o,l,d),y=w(a,l,d),x=function(e){!p&&s&&s(e,-1)},C={};switch(u){case"rtl":C.right="".concat(100*m,"%"),C.width="".concat(100*y-100*m,"%");break;case"btt":C.bottom="".concat(100*m,"%"),C.height="".concat(100*y-100*m,"%");break;case"ttb":C.top="".concat(100*m,"%"),C.height="".concat(100*y-100*m,"%");break;default:C.left="".concat(100*m,"%"),C.width="".concat(100*y-100*m,"%")}return r.createElement("div",{className:h()(v,f&&"".concat(v,"-").concat(i+1)),style:(0,g.Z)((0,g.Z)({},C),n),onMouseDown:x,onTouchStart:x})}function P(e){var t=e.prefixCls,n=e.style,o=e.values,a=e.startPoint,i=e.onStartMove,s=r.useContext(b),c=s.included,u=s.range,l=s.min,d=r.useMemo((function(){if(!u){if(0===o.length)return[];var e=null!==a&&void 0!==a?a:l,t=o[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],r=0;r<o.length-1;r+=1)n.push({start:o[r],end:o[r+1]});return n}),[o,u,a,l]);return c?d.map((function(e,o){var a=e.start,s=e.end;return r.createElement(R,{index:o,prefixCls:t,style:C(n,o),start:a,end:s,key:o,onStartMove:i})})):null}function Z(e){var t=e.prefixCls,n=e.style,o=e.children,a=e.value,i=e.onClick,c=r.useContext(b),u=c.min,l=c.max,d=c.direction,p=c.includedStart,f=c.includedEnd,v=c.included,m="".concat(t,"-text"),y=x(d,a,u,l);return r.createElement("span",{className:h()(m,(0,s.Z)({},"".concat(m,"-active"),v&&p<=a&&a<=f)),style:(0,g.Z)((0,g.Z)({},y),n),onMouseDown:function(e){e.stopPropagation()},onClick:function(){i(a)}},o)}function O(e){var t=e.prefixCls,n=e.marks,o=e.onClick,a="".concat(t,"-mark");return n.length?r.createElement("div",{className:a},n.map((function(e){var t=e.value,n=e.style,i=e.label;return r.createElement(Z,{key:t,prefixCls:a,style:n,value:t,onClick:o},i)}))):null}function D(e){var t=e.prefixCls,n=e.value,o=e.style,a=e.activeStyle,i=r.useContext(b),c=i.min,u=i.max,l=i.direction,d=i.included,p=i.includedStart,f=i.includedEnd,v="".concat(t,"-dot"),m=d&&p<=n&&n<=f,y=(0,g.Z)((0,g.Z)({},x(l,n,c,u)),o);return m&&(y=(0,g.Z)((0,g.Z)({},y),a)),r.createElement("span",{className:h()(v,(0,s.Z)({},"".concat(v,"-active"),m)),style:y})}function z(e){var t=e.prefixCls,n=e.marks,o=e.dots,a=e.style,i=e.activeStyle,s=r.useContext(b),c=s.min,u=s.max,l=s.step,d=r.useMemo((function(){var e=new Set;if(n.forEach((function(t){e.add(t.value)})),o)for(var t=c;t<=u;)e.add(t),t+=l;return Array.from(e)}),[c,u,l,o,n]);return r.createElement("div",{className:"".concat(t,"-step")},d.map((function(e){return r.createElement(D,{prefixCls:t,key:e,value:e,style:a,activeStyle:i})})))}n(60632);var L=r.forwardRef((function(e,t){var n,o=e.prefixCls,a=void 0===o?"rc-slider":o,c=e.className,d=e.style,p=e.disabled,m=void 0!==p&&p,g=e.autoFocus,y=e.onFocus,w=e.onBlur,x=e.min,C=void 0===x?0:x,S=e.max,_=void 0===S?100:S,k=e.step,R=void 0===k?1:k,Z=e.value,D=e.defaultValue,L=e.range,T=e.count,F=e.onChange,A=e.onBeforeChange,N=e.onAfterChange,I=e.allowCross,W=void 0===I||I,H=e.pushable,$=void 0!==H&&H,j=e.draggableTrack,V=e.reverse,q=e.vertical,U=e.included,B=void 0===U||U,X=e.startPoint,Y=e.trackStyle,Q=e.handleStyle,G=e.railStyle,J=e.dotStyle,K=e.activeDotStyle,ee=e.marks,te=e.dots,ne=e.handleRender,re=e.tabIndex,oe=void 0===re?0:re,ae=e.ariaLabelForHandle,ie=e.ariaLabelledByForHandle,se=e.ariaValueTextFormatterForHandle,ce=r.useRef(),ue=r.useRef(),le=r.useMemo((function(){return q?V?"ttb":"btt":V?"rtl":"ltr"}),[V,q]),de=r.useMemo((function(){return isFinite(C)?C:0}),[C]),he=r.useMemo((function(){return isFinite(_)?_:100}),[_]),pe=r.useMemo((function(){return null!==R&&R<=0?1:R}),[R]),fe=r.useMemo((function(){return!0===$?pe:$>=0&&$}),[$,pe]),ve=r.useMemo((function(){return Object.keys(ee||{}).map((function(e){var t=ee[e],n={value:Number(e)};return t&&"object"===(0,i.Z)(t)&&!r.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n})).filter((function(e){var t=e.label;return t||"number"===typeof t})).sort((function(e,t){return e.value-t.value}))}),[ee]),me=function(e,t,n,o,a,i){var s=r.useCallback((function(n){var r=isFinite(n)?n:e;return r=Math.min(t,n),Math.max(e,r)}),[e,t]),c=r.useCallback((function(r){if(null!==n){var o=e+Math.round((s(r)-e)/n)*n,a=function(e){return(String(e).split(".")[1]||"").length},i=Math.max(a(n),a(t),a(e)),c=Number(o.toFixed(i));return e<=c&&c<=t?c:null}return null}),[n,e,t,s]),u=r.useCallback((function(r){var a=s(r),i=o.map((function(e){return e.value}));null!==n&&i.push(c(r)),i.push(e,t);var u=i[0],l=t-e;return i.forEach((function(e){var t=Math.abs(a-e);t<=l&&(u=e,l=t)})),u}),[e,t,o,n,s,c]),d=function r(a,i,s){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"===typeof i){var d,h=a[s],p=h+i,f=[];o.forEach((function(e){f.push(e.value)})),f.push(e,t),f.push(c(h));var v=i>0?1:-1;"unit"===u?f.push(c(h+v*n)):f.push(c(p)),f=f.filter((function(e){return null!==e})).filter((function(e){return i<0?e<=h:e>=h})),"unit"===u&&(f=f.filter((function(e){return e!==h})));var m="unit"===u?h:p;d=f[0];var g=Math.abs(d-m);if(f.forEach((function(e){var t=Math.abs(e-m);t<g&&(d=e,g=t)})),void 0===d)return i<0?e:t;if("dist"===u)return d;if(Math.abs(i)>1){var y=(0,l.Z)(a);return y[s]=d,r(y,i-v,s,u)}return d}return"min"===i?e:"max"===i?t:void 0},h=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",o=e[n],a=d(e,t,n,r);return{value:a,changed:a!==o}},p=function(e){return null===i&&0===e||"number"===typeof i&&e<i};return[u,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",o=e.map(u),s=o[n],c=d(o,t,n,r);if(o[n]=c,!1===a){var l=i||0;n>0&&o[n-1]!==s&&(o[n]=Math.max(o[n],o[n-1]+l)),n<o.length-1&&o[n+1]!==s&&(o[n]=Math.min(o[n],o[n+1]-l))}else if("number"===typeof i||null===i){for(var f=n+1;f<o.length;f+=1)for(var v=!0;p(o[f]-o[f-1])&&v;){var m=h(o,1,f);o[f]=m.value,v=m.changed}for(var g=n;g>0;g-=1)for(var y=!0;p(o[g]-o[g-1])&&y;){var b=h(o,-1,g-1);o[g-1]=b.value,y=b.changed}for(var w=o.length-1;w>0;w-=1)for(var x=!0;p(o[w]-o[w-1])&&x;){var C=h(o,-1,w-1);o[w-1]=C.value,x=C.changed}for(var S=0;S<o.length-1;S+=1)for(var _=!0;p(o[S+1]-o[S])&&_;){var k=h(o,1,S+1);o[S+1]=k.value,_=k.changed}}return{value:o[n],values:o}}]}(de,he,pe,ve,W,fe),ge=(0,u.Z)(me,2),ye=ge[0],be=ge[1],we=(0,v.Z)(D,{value:Z}),xe=(0,u.Z)(we,2),Ce=xe[0],Se=xe[1],_e=r.useMemo((function(){var e=null===Ce||void 0===Ce?[]:Array.isArray(Ce)?Ce:[Ce],t=(0,u.Z)(e,1)[0],n=null===Ce?[]:[void 0===t?de:t];if(L){if(n=(0,l.Z)(e),T||void 0===Ce){var r=T>=0?T+1:2;for(n=n.slice(0,r);n.length<r;){var o;n.push(null!==(o=n[n.length-1])&&void 0!==o?o:de)}}n.sort((function(e,t){return e-t}))}return n.forEach((function(e,t){n[t]=ye(e)})),n}),[Ce,L,de,T,ye]),ke=r.useRef(_e);ke.current=_e;var Ee=function(e){return L?e:e[0]},Me=function(e){var t=(0,l.Z)(e).sort((function(e,t){return e-t}));F&&!f()(t,ke.current)&&F(Ee(t)),Se(t)},Re=function(e){if(!m){var t=0,n=he-de;_e.forEach((function(r,o){var a=Math.abs(e-r);a<=n&&(n=a,t=o)}));var r=(0,l.Z)(_e);r[t]=e,L&&!_e.length&&void 0===T&&r.push(e),null===A||void 0===A||A(Ee(r)),Me(r),null===N||void 0===N||N(Ee(r))}},Pe=r.useState(null),Ze=(0,u.Z)(Pe,2),Oe=Ze[0],De=Ze[1];r.useEffect((function(){if(null!==Oe){var e=_e.indexOf(Oe);e>=0&&ce.current.focus(e)}De(null)}),[Oe]);var ze=r.useMemo((function(){return(!j||null!==pe)&&j}),[j,pe]),Le=function(e,t,n,o,a,i,s,c,d){var h=r.useState(null),p=(0,u.Z)(h,2),f=p[0],v=p[1],m=r.useState(-1),g=(0,u.Z)(m,2),y=g[0],b=g[1],w=r.useState(n),x=(0,u.Z)(w,2),C=x[0],S=x[1],_=r.useState(n),k=(0,u.Z)(_,2),E=k[0],R=k[1],P=r.useRef(null),Z=r.useRef(null);r.useEffect((function(){-1===y&&S(n)}),[n,y]),r.useEffect((function(){return function(){document.removeEventListener("mousemove",P.current),document.removeEventListener("mouseup",Z.current),document.removeEventListener("touchmove",P.current),document.removeEventListener("touchend",Z.current)}}),[]);var O=function(e,t){C.some((function(t,n){return t!==e[n]}))&&(void 0!==t&&v(t),S(e),s(e))},D=function(e,t){if(-1===e){var n=E[0],r=E[E.length-1],s=o-n,c=a-r,u=t*(a-o);u=Math.max(u,s),u=Math.min(u,c);var h=i(n+u);u=h-n;var p=E.map((function(e){return e+u}));O(p)}else{var f=(a-o)*t,v=(0,l.Z)(C);v[e]=E[e];var m=d(v,f,e,"dist");O(m.values,m.value)}},z=r.useRef(D);z.current=D;var L=r.useMemo((function(){var e=(0,l.Z)(n).sort((function(e,t){return e-t})),t=(0,l.Z)(C).sort((function(e,t){return e-t}));return e.every((function(e,n){return e===t[n]}))?C:n}),[n,C]);return[y,f,L,function(r,o){r.stopPropagation();var a=n[o];b(o),v(a),R(n);var i=M(r),s=i.pageX,u=i.pageY,l=function(n){n.preventDefault();var r,a=M(n),i=a.pageX,c=a.pageY,l=i-s,d=c-u,h=e.current.getBoundingClientRect(),p=h.width,f=h.height;switch(t){case"btt":r=-d/f;break;case"ttb":r=d/f;break;case"rtl":r=-l/p;break;default:r=l/p}z.current(o,r)},d=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",l),document.removeEventListener("touchend",e),document.removeEventListener("touchmove",l),P.current=null,Z.current=null,b(-1),c()};document.addEventListener("mouseup",d),document.addEventListener("mousemove",l),document.addEventListener("touchend",d),document.addEventListener("touchmove",l),P.current=l,Z.current=d}]}(ue,le,_e,de,he,ye,Me,(function(){null===N||void 0===N||N(Ee(ke.current))}),be),Te=(0,u.Z)(Le,4),Fe=Te[0],Ae=Te[1],Ne=Te[2],Ie=Te[3],We=function(e,t){Ie(e,t),null===A||void 0===A||A(Ee(ke.current))},He=-1!==Fe;r.useEffect((function(){if(!He){var e=_e.lastIndexOf(Ae);ce.current.focus(e)}}),[He]);var $e=r.useMemo((function(){return(0,l.Z)(Ne).sort((function(e,t){return e-t}))}),[Ne]),je=r.useMemo((function(){return L?[$e[0],$e[$e.length-1]]:[de,$e[0]]}),[$e,L,de]),Ve=(0,u.Z)(je,2),qe=Ve[0],Ue=Ve[1];r.useImperativeHandle(t,(function(){return{focus:function(){ce.current.focus(0)},blur:function(){var e=document.activeElement;ue.current.contains(e)&&(null===e||void 0===e||e.blur())}}})),r.useEffect((function(){g&&ce.current.focus(0)}),[]);var Be=r.useMemo((function(){return{min:de,max:he,direction:le,disabled:m,step:pe,included:B,includedStart:qe,includedEnd:Ue,range:L,tabIndex:oe,ariaLabelForHandle:ae,ariaLabelledByForHandle:ie,ariaValueTextFormatterForHandle:se}}),[de,he,le,m,pe,B,qe,Ue,L,oe,ae,ie,se]);return r.createElement(b.Provider,{value:Be},r.createElement("div",{ref:ue,className:h()(a,c,(n={},(0,s.Z)(n,"".concat(a,"-disabled"),m),(0,s.Z)(n,"".concat(a,"-vertical"),q),(0,s.Z)(n,"".concat(a,"-horizontal"),!q),(0,s.Z)(n,"".concat(a,"-with-marks"),ve.length),n)),style:d,onMouseDown:function(e){e.preventDefault();var t,n=ue.current.getBoundingClientRect(),r=n.width,o=n.height,a=n.left,i=n.top,s=n.bottom,c=n.right,u=e.clientX,l=e.clientY;switch(le){case"btt":t=(s-l)/o;break;case"ttb":t=(l-i)/o;break;case"rtl":t=(c-u)/r;break;default:t=(u-a)/r}Re(ye(de+t*(he-de)))}},r.createElement("div",{className:"".concat(a,"-rail"),style:G}),r.createElement(P,{prefixCls:a,style:Y,values:$e,startPoint:X,onStartMove:ze?We:null}),r.createElement(z,{prefixCls:a,marks:ve,dots:te,style:J,activeStyle:K}),r.createElement(E,{ref:ce,prefixCls:a,style:Q,values:Ne,draggingIndex:Fe,onStartMove:We,onOffsetChange:function(e,t){if(!m){var n=be(_e,e,t);null===A||void 0===A||A(Ee(_e)),Me(n.values),null===N||void 0===N||N(Ee(n.values)),De(n.value)}},onFocus:y,onBlur:w,handleRender:ne}),r.createElement(O,{prefixCls:a,marks:ve,onClick:Re})))}));var T=L,F=n(58020),A=n(78764),N=n(61844),I=r.forwardRef((function(e,t){var n=e.visible,o=(0,r.useRef)(null),a=(0,r.useRef)(null);function i(){A.Z.cancel(a.current),a.current=null}return r.useEffect((function(){return n?a.current=(0,A.Z)((function(){var e;null===(e=o.current)||void 0===e||e.forcePopupAlign(),a.current=null})):i(),i}),[n,e.title]),r.createElement(N.Z,(0,c.Z)({ref:(0,F.sQ)(o,t)},e))})),W=n(23785),H=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},$=r.forwardRef((function(e,t){var n=r.useContext(W.E_),o=n.getPrefixCls,a=n.direction,l=n.getPopupContainer,d=r.useState({}),p=(0,u.Z)(d,2),f=p[0],v=p[1],m=function(e,t){v((function(n){return(0,c.Z)((0,c.Z)({},n),(0,s.Z)({},e,t))}))},g=function(e,t){return e||(t?"rtl"===a?"left":"right":"top")},y=e.prefixCls,b=e.tooltipPrefixCls,w=e.range,x=e.className,C=H(e,["prefixCls","tooltipPrefixCls","range","className"]),S=o("slider",y),_=o("tooltip",b),k=h()(x,(0,s.Z)({},"".concat(S,"-rtl"),"rtl"===a));"rtl"!==a||C.vertical||(C.reverse=!C.reverse);var E=r.useMemo((function(){return w?"object"===(0,i.Z)(w)?[!0,w.draggableTrack]:[!0,!1]:[!1]}),[w]),M=(0,u.Z)(E,2),R=M[0],P=M[1];return r.createElement(T,(0,c.Z)({},C,{step:C.step,range:R,draggableTrack:P,className:k,ref:t,prefixCls:S,handleRender:function(t,n){var a=n.index,i=n.dragging,s=o(),u=e.tipFormatter,d=e.tooltipVisible,h=e.tooltipPlacement,p=e.getTooltipPopupContainer,v=e.vertical,y=!!u&&(f[a]||i),b=d||void 0===d&&y,w=(0,c.Z)((0,c.Z)({},t.props),{onMouseEnter:function(){return m(a,!0)},onMouseLeave:function(){return m(a,!1)}});return r.createElement(I,{prefixCls:_,title:u?u(n.value):"",visible:b,placement:g(h,v),transitionName:"".concat(s,"-zoom-down"),key:a,overlayClassName:"".concat(S,"-tooltip"),getPopupContainer:p||l},r.cloneElement(t,w))}}))}));$.displayName="Slider",$.defaultProps={tipFormatter:function(e){return"number"===typeof e?e.toString():""}};var j=$,V=function(e,t){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},V(e,t)};var q=function(){return q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},q.apply(this,arguments)};Object.create;Object.create;var U=n(38136),B=n.n(U);function X(e,t,n,r,o,a){void 0===a&&(a=0);var i=ae(e,t,a),s=i.width,c=i.height,u=Math.min(s,n),l=Math.min(c,r);return u>l*o?{width:l*o,height:l}:{width:u,height:u/o}}function Y(e,t,n,r,o){void 0===o&&(o=0);var a=ae(t.width,t.height,o),i=a.width,s=a.height;return{x:Q(e.x,i,n.width,r),y:Q(e.y,s,n.height,r)}}function Q(e,t,n,r){var o=t*r/2-n/2;return ie(e,-o,o)}function G(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function J(e,t){return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI}function K(e,t,n,r,o,a,i){void 0===a&&(a=0),void 0===i&&(i=!0);var s=i?ee:te,c=ae(t.width,t.height,a),u=ae(t.naturalWidth,t.naturalHeight,a),l={x:s(100,((c.width-n.width/o)/2-e.x/o)/c.width*100),y:s(100,((c.height-n.height/o)/2-e.y/o)/c.height*100),width:s(100,n.width/c.width*100/o),height:s(100,n.height/c.height*100/o)},d=Math.round(s(u.width,l.width*u.width/100)),h=Math.round(s(u.height,l.height*u.height/100)),p=u.width>=u.height*r?{width:Math.round(h*r),height:h}:{width:d,height:Math.round(d/r)};return{croppedAreaPercentages:l,croppedAreaPixels:q(q({},p),{x:Math.round(s(u.width-p.width,l.x*u.width/100)),y:Math.round(s(u.height-p.height,l.y*u.height/100))})}}function ee(e,t){return Math.min(e,Math.max(0,t))}function te(e,t){return t}function ne(e,t,n,r,o,a){var i=ae(t.width,t.height,n),s=ie(r.width/i.width*(100/e.width),o,a);return{crop:{x:s*i.width/2-r.width/2-i.width*s*(e.x/100),y:s*i.height/2-r.height/2-i.height*s*(e.y/100)},zoom:s}}function re(e,t,n,r,o,a){void 0===n&&(n=0);var i=ae(t.naturalWidth,t.naturalHeight,n),s=ie(function(e,t,n){var r=function(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}(t);return n.height>n.width?n.height/(e.height*r):n.width/(e.width*r)}(e,t,r),o,a),c=r.height>r.width?r.height/e.height:r.width/e.width;return{crop:{x:((i.width-e.width)/2-e.x)*c,y:((i.height-e.height)/2-e.y)*c},zoom:s}}function oe(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function ae(e,t,n){var r=n*Math.PI/180;return{width:Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*e)+Math.abs(Math.cos(r)*t)}}function ie(e,t,n){return Math.min(Math.max(e,t),n)}function se(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter((function(e){return"string"===typeof e&&e.length>0})).join(" ").trim()}var ce=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.imageRef=null,n.videoRef=null,n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.state={cropSize:null,hasWheelJustStarted:!1},n.preventZoomSafari=function(e){return e.preventDefault()},n.cleanEvents=function(){document.removeEventListener("mousemove",n.onMouseMove),document.removeEventListener("mouseup",n.onDragStopped),document.removeEventListener("touchmove",n.onTouchMove),document.removeEventListener("touchend",n.onDragStopped)},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var e=n.computeSizes();e&&(n.emitCropData(),n.setInitialCrop(e)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(e){if(n.props.initialCroppedAreaPercentages){var t=ne(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,e,n.props.minZoom,n.props.maxZoom),r=t.crop,o=t.zoom;n.props.onCropChange(r),n.props.onZoomChange&&n.props.onZoomChange(o)}else if(n.props.initialCroppedAreaPixels){var a=re(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,e,n.props.minZoom,n.props.maxZoom);r=a.crop,o=a.zoom;n.props.onCropChange(r),n.props.onZoomChange&&n.props.onZoomChange(o)}},n.computeSizes=function(){var e,t,r,o,a,i,s=n.imageRef||n.videoRef;if(s&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect();var c=n.containerRect.width/n.containerRect.height,u=(null===(e=n.imageRef)||void 0===e?void 0:e.naturalWidth)||(null===(t=n.videoRef)||void 0===t?void 0:t.videoWidth)||0,l=(null===(r=n.imageRef)||void 0===r?void 0:r.naturalHeight)||(null===(o=n.videoRef)||void 0===o?void 0:o.videoHeight)||0,d=u/l,h=void 0;if(s.offsetWidth<u||s.offsetHeight<l)switch(n.props.objectFit){default:case"contain":h=c>d?{width:n.containerRect.height*d,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/d};break;case"horizontal-cover":h={width:n.containerRect.width,height:n.containerRect.width/d};break;case"vertical-cover":h={width:n.containerRect.height*d,height:n.containerRect.height}}else h={width:s.offsetWidth,height:s.offsetHeight};n.mediaSize=q(q({},h),{naturalWidth:u,naturalHeight:l});var p=n.props.cropSize?n.props.cropSize:X(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(null===(a=n.state.cropSize)||void 0===a?void 0:a.height)===p.height&&(null===(i=n.state.cropSize)||void 0===i?void 0:i.width)===p.width||n.props.onCropSizeChange&&n.props.onCropSizeChange(p),n.setState({cropSize:p},n.recomputeCropPosition),p}},n.onMouseDown=function(e){e.preventDefault(),document.addEventListener("mousemove",n.onMouseMove),document.addEventListener("mouseup",n.onDragStopped),n.onDragStart(t.getMousePoint(e))},n.onMouseMove=function(e){return n.onDrag(t.getMousePoint(e))},n.onTouchStart=function(e){n.props.onTouchRequest&&!n.props.onTouchRequest(e)||(document.addEventListener("touchmove",n.onTouchMove,{passive:!1}),document.addEventListener("touchend",n.onDragStopped),2===e.touches.length?n.onPinchStart(e):1===e.touches.length&&n.onDragStart(t.getTouchPoint(e.touches[0])))},n.onTouchMove=function(e){e.preventDefault(),2===e.touches.length?n.onPinchMove(e):1===e.touches.length&&n.onDrag(t.getTouchPoint(e.touches[0]))},n.onDragStart=function(e){var t,r,o=e.x,a=e.y;n.dragStartPosition={x:o,y:a},n.dragStartCrop=q({},n.props.crop),null===(r=(t=n.props).onInteractionStart)||void 0===r||r.call(t)},n.onDrag=function(e){var t=e.x,r=e.y;n.rafDragTimeout&&window.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=window.requestAnimationFrame((function(){if(n.state.cropSize&&void 0!==t&&void 0!==r){var e=t-n.dragStartPosition.x,o=r-n.dragStartPosition.y,a={x:n.dragStartCrop.x+e,y:n.dragStartCrop.y+o},i=n.props.restrictPosition?Y(a,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):a;n.props.onCropChange(i)}}))},n.onDragStopped=function(){var e,t;n.cleanEvents(),n.emitCropData(),null===(t=(e=n.props).onInteractionEnd)||void 0===t||t.call(e)},n.onWheel=function(e){if(!n.props.onWheelRequest||n.props.onWheelRequest(e)){e.preventDefault();var r=t.getMousePoint(e),o=B()(e).pixelY,a=n.props.zoom-o*n.props.zoomSpeed/200;n.setNewZoom(a,r),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},(function(){var e,t;return null===(t=(e=n.props).onInteractionStart)||void 0===t?void 0:t.call(e)})),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=window.setTimeout((function(){return n.setState({hasWheelJustStarted:!1},(function(){var e,t;return null===(t=(e=n.props).onInteractionEnd)||void 0===t?void 0:t.call(e)}))}),250)}},n.getPointOnContainer=function(e){var t=e.x,r=e.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(t-n.containerRect.left),y:n.containerRect.height/2-(r-n.containerRect.top)}},n.getPointOnMedia=function(e){var t=e.x,r=e.y,o=n.props,a=o.crop,i=o.zoom;return{x:(t+a.x)/i,y:(r+a.y)/i}},n.setNewZoom=function(e,t){if(n.state.cropSize&&n.props.onZoomChange){var r=n.getPointOnContainer(t),o=n.getPointOnMedia(r),a=ie(e,n.props.minZoom,n.props.maxZoom),i={x:o.x*a-r.x,y:o.y*a-r.y},s=n.props.restrictPosition?Y(i,n.mediaSize,n.state.cropSize,a,n.props.rotation):i;n.props.onCropChange(s),n.props.onZoomChange(a)}},n.getCropData=function(){return n.state.cropSize?K(n.props.restrictPosition?Y(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition):null},n.emitCropData=function(){var e=n.getCropData();if(e){var t=e.croppedAreaPercentages,r=e.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(t,r),n.props.onCropAreaChange&&n.props.onCropAreaChange(t,r)}},n.emitCropAreaChange=function(){var e=n.getCropData();if(e){var t=e.croppedAreaPercentages,r=e.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(t,r)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var e=n.props.restrictPosition?Y(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(e),n.emitCropData()}},n}return function(e,t){function n(){this.constructor=e}V(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.computeSizes),this.containerRef&&(this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.preventZoomSafari),this.containerRef.addEventListener("gesturechange",this.preventZoomSafari)),this.props.disableAutomaticStylesInjection||(this.styleRef=document.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.styleRef.innerHTML=".reactEasyCrop_Container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  user-select: none;\n  touch-action: none;\n  cursor: move;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.reactEasyCrop_Image,\n.reactEasyCrop_Video {\n  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */\n}\n\n.reactEasyCrop_Contain {\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.reactEasyCrop_Cover_Horizontal {\n  width: 100%;\n  height: auto;\n}\n.reactEasyCrop_Cover_Vertical {\n  width: auto;\n  height: 100%;\n}\n\n.reactEasyCrop_CropArea {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  box-sizing: border-box;\n  box-shadow: 0 0 0 9999em;\n  color: rgba(0, 0, 0, 0.5);\n  overflow: hidden;\n}\n\n.reactEasyCrop_CropAreaRound {\n  border-radius: 50%;\n}\n\n.reactEasyCrop_CropAreaGrid::before {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 0;\n  bottom: 0;\n  left: 33.33%;\n  right: 33.33%;\n  border-top: 0;\n  border-bottom: 0;\n}\n\n.reactEasyCrop_CropAreaGrid::after {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 33.33%;\n  bottom: 33.33%;\n  left: 0;\n  right: 0;\n  border-left: 0;\n  border-right: 0;\n}\n",document.head.appendChild(this.styleRef)),this.imageRef&&this.imageRef.complete&&this.onMediaLoad()},t.prototype.componentWillUnmount=function(){var e;window.removeEventListener("resize",this.computeSizes),this.containerRef&&(this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.containerRef.removeEventListener("gesturechange",this.preventZoomSafari)),this.styleRef&&(null===(e=this.styleRef.parentNode)||void 0===e||e.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent()},t.prototype.componentDidUpdate=function(e){var t,n,r,o,a,i,s,c,u;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():(null===(t=e.cropSize)||void 0===t?void 0:t.height)!==(null===(n=this.props.cropSize)||void 0===n?void 0:n.height)||(null===(r=e.cropSize)||void 0===r?void 0:r.width)!==(null===(o=this.props.cropSize)||void 0===o?void 0:o.width)?this.computeSizes():(null===(a=e.crop)||void 0===a?void 0:a.x)===(null===(i=this.props.crop)||void 0===i?void 0:i.x)&&(null===(s=e.crop)||void 0===s?void 0:s.y)===(null===(c=this.props.crop)||void 0===c?void 0:c.y)||this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&(null===(u=this.videoRef)||void 0===u||u.load())},t.prototype.getAspect=function(){var e=this.props,t=e.cropSize,n=e.aspect;return t?t.width/t.height:n},t.prototype.onPinchStart=function(e){var n=t.getTouchPoint(e.touches[0]),r=t.getTouchPoint(e.touches[1]);this.lastPinchDistance=G(n,r),this.lastPinchRotation=J(n,r),this.onDragStart(oe(n,r))},t.prototype.onPinchMove=function(e){var n=this,r=t.getTouchPoint(e.touches[0]),o=t.getTouchPoint(e.touches[1]),a=oe(r,o);this.onDrag(a),this.rafPinchTimeout&&window.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=window.requestAnimationFrame((function(){var e=G(r,o),t=n.props.zoom*(e/n.lastPinchDistance);n.setNewZoom(t,a),n.lastPinchDistance=e;var i=J(r,o),s=n.props.rotation+(i-n.lastPinchRotation);n.props.onRotationChange&&n.props.onRotationChange(s),n.lastPinchRotation=i}))},t.prototype.render=function(){var e=this,t=this.props,n=t.image,o=t.video,a=t.mediaProps,i=t.transform,s=t.crop,c=s.x,u=s.y,l=t.rotation,d=t.zoom,h=t.cropShape,p=t.showGrid,f=t.style,v=f.containerStyle,m=f.cropAreaStyle,g=f.mediaStyle,y=t.classes,b=y.containerClassName,w=y.cropAreaClassName,x=y.mediaClassName,C=t.objectFit;return r.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(t){return e.containerRef=t},"data-testid":"container",style:v,className:se("reactEasyCrop_Container",b)},n?r.createElement("img",q({alt:"",className:se("reactEasyCrop_Image","contain"===C&&"reactEasyCrop_Contain","horizontal-cover"===C&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===C&&"reactEasyCrop_Cover_Vertical",x)},a,{src:n,ref:function(t){return e.imageRef=t},style:q(q({},g),{transform:i||"translate("+c+"px, "+u+"px) rotate("+l+"deg) scale("+d+")"}),onLoad:this.onMediaLoad})):o&&r.createElement("video",q({autoPlay:!0,loop:!0,muted:!0,className:se("reactEasyCrop_Video","contain"===C&&"reactEasyCrop_Contain","horizontal-cover"===C&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===C&&"reactEasyCrop_Cover_Vertical",x)},a,{ref:function(t){return e.videoRef=t},onLoadedMetadata:this.onMediaLoad,style:q(q({},g),{transform:i||"translate("+c+"px, "+u+"px) rotate("+l+"deg) scale("+d+")"}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map((function(e){return r.createElement("source",q({key:e.src},e))}))),this.state.cropSize&&r.createElement("div",{style:q(q({},m),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:se("reactEasyCrop_CropArea","round"===h&&"reactEasyCrop_CropAreaRound",p&&"reactEasyCrop_CropAreaGrid",w)}))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:3,minZoom:1,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},t.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t}(r.Component),ue=ce;var le=function(){return le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},le.apply(this,arguments)};function de(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))}function he(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var pe="img-crop",fe=.1,ve=(0,r.forwardRef)((function(e,t){var n=e.cropperRef,o=e.image,a=e.aspect,i=e.shape,s=e.grid,c=e.zoom,u=e.rotate,l=e.minZoom,d=e.maxZoom,h=e.cropperProps,p=(0,r.useState)({x:0,y:0}),f=p[0],v=p[1],m=(0,r.useState)({width:0,height:0}),g=m[0],y=m[1],b=(0,r.useState)(1),w=b[0],x=b[1],C=(0,r.useState)(0),S=C[0],_=C[1],k=(0,r.useRef)({width:0,height:0,x:0,y:0}),E=(0,r.useCallback)((function(e){var t=e.width,n=e.height,r=n*a;y(t>r?{width:r,height:n}:{width:t,height:t/a})}),[a]),M=(0,r.useCallback)((function(e,t){k.current=t}),[]);return(0,r.useImperativeHandle)(t,(function(){return{rotateVal:S,setZoomVal:x,setRotateVal:_,cropPixelsRef:k}}),[S]),r.createElement(r.Fragment,null,r.createElement(ue,le({},h,{ref:n,image:o,crop:f,cropSize:g,onCropChange:v,aspect:a,cropShape:i,showGrid:s,zoomWithScroll:c,zoom:w,rotation:S,onZoomChange:x,onRotationChange:_,minZoom:l,maxZoom:d,onMediaLoaded:E,onCropComplete:M,classes:{containerClassName:"".concat(pe,"-container"),mediaClassName:"".concat(pe,"-media")}})),c&&r.createElement("section",{className:"".concat(pe,"-control ").concat(pe,"-control-zoom")},r.createElement("button",{onClick:function(){return x(w-fe)},disabled:w-fe<l},"\uff0d"),r.createElement(j,{min:l,max:d,step:fe,value:w,onChange:x}),r.createElement("button",{onClick:function(){return x(w+fe)},disabled:w+fe>d},"\uff0b")),u&&r.createElement("section",{className:"".concat(pe,"-control ").concat(pe,"-control-rotate")},r.createElement("button",{onClick:function(){return _(S-1)},disabled:-180===S},"\u21ba"),r.createElement(j,{min:-180,max:180,step:1,value:S,onChange:_}),r.createElement("button",{onClick:function(){return _(S+1)},disabled:180===S},"\u21bb")))})),me=(0,r.memo)(ve);!function(e){if(e&&"undefined"!=typeof window){var t=document.createElement("style");t.setAttribute("media","screen"),t.innerHTML=e,document.head.appendChild(t)}}(".img-crop-modal .img-crop-container {\n  position: relative;\n  width: 100%;\n  height: 40vh;\n}\n.img-crop-modal .img-crop-control {\n  display: flex;\n  align-items: center;\n  width: 60%;\n  margin-left: auto;\n  margin-right: auto;\n}\n.img-crop-modal .img-crop-control:first-of-type {\n  margin-top: 16px;\n}\n.img-crop-modal .img-crop-control:last-of-type {\n  margin-bottom: -8px;\n}\n.img-crop-modal .img-crop-control button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 34px;\n  height: 34px;\n  padding: 0;\n  font-style: normal;\n  background: transparent;\n  border: 0;\n  outline: 0;\n  cursor: pointer;\n}\n.img-crop-modal .img-crop-control button[disabled] {\n  cursor: default;\n}\n.img-crop-modal .img-crop-control button + div:only-of-type {\n  flex: 1;\n  margin: 0 8px;\n}\n.img-crop-modal .img-crop-control-zoom button {\n  font-size: 18px;\n}\n.img-crop-modal .img-crop-control-rotate button {\n  font-size: 16px;\n}\n.img-crop-modal .img-crop-control-rotate button:first-of-type {\n  transform: rotate(-20deg);\n}\n.img-crop-modal .img-crop-control-rotate button:last-of-type {\n  transform: rotate(20deg);\n}\n");var ge=(0,r.forwardRef)((function(e,t){var n=e.aspect,i=void 0===n?1:n,s=e.shape,c=void 0===s?"rect":s,u=e.grid,l=void 0!==u&&u,d=e.quality,h=void 0===d?.4:d,p=e.fillColor,f=void 0===p?"white":p,v=e.zoom,m=void 0===v||v,g=e.rotate,y=void 0!==g&&g,b=e.minZoom,w=void 0===b?1:b,x=e.maxZoom,C=void 0===x?3:x,S=e.modalTitle,_=e.modalWidth,k=e.modalOk,E=e.modalCancel,M=e.onModalOk,R=e.onModalCancel,P=e.beforeCrop,Z=e.onUploadFail,O=e.cropperProps,D=e.children,z=(0,r.useRef)({});z.current.onModalOk=M,z.current.onModalCancel=R,z.current.beforeCrop=P,z.current.onUploadFail=Z;var L=(0,r.useState)(""),T=L[0],F=L[1],A=(0,r.useRef)(),N=(0,r.useRef)(),I=(0,r.useRef)(),W=(0,r.useRef)(),H=(0,r.useMemo)((function(){var e=Array.isArray(D)?D[0]:D,t=e.props,n=t.beforeUpload,r=t.accept,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["beforeUpload","accept"]);return N.current=n,le(le({},e),{props:le(le({},o),{accept:r||"image/*",beforeUpload:function(e,t){return new Promise((function(n,r){return de(void 0,void 0,void 0,(function(){var o,a;return he(this,(function(i){switch(i.label){case 0:return(o=z.current.beforeCrop)?[4,z.current.beforeCrop(e,t)]:[3,2];case 1:o=!i.sent(),i.label=2;case 2:return o?(r(),[2]):(A.current=e,I.current=function(e){var t,r;null===(r=(t=z.current).onModalOk)||void 0===r||r.call(t,e),n(e)},W.current=function(e){var t,n;null===(n=(t=z.current).onUploadFail)||void 0===n||n.call(t,e),r(e)},(a=new FileReader).addEventListener("load",(function(){return"string"===typeof a.result&&F(a.result)})),a.readAsDataURL(e),[2])}}))}))}))}})})}),[D]),$=(0,r.useRef)({}),j=(0,r.useMemo)((function(){var e={width:_,okText:k,cancelText:E};return Object.keys(e).forEach((function(t){e[t]||delete e[t]})),e}),[E,k,_]),V=function(){F(""),$.current.setZoomVal(1),$.current.setRotateVal(0)},q=(0,r.useCallback)((function(){var e,t;null===(t=(e=z.current).onModalCancel)||void 0===t||t.call(e),V()}),[]),U=(0,r.useCallback)((function(){return de(void 0,void 0,void 0,(function(){var e,t,n,r,o,a,i,s,c,u,l,d,p,v,m,g,b,w,x,C,S,_,k,E,M;return he(this,(function(R){return V(),e=document.createElement("canvas"),t=e.getContext("2d"),n=document.querySelector(".".concat(pe,"-media")),r=$.current.cropPixelsRef.current,o=r.width,a=r.height,i=r.x,s=r.y,y&&0!==$.current.rotateVal?(c=n.naturalWidth,u=n.naturalHeight,l=$.current.rotateVal*(Math.PI/180),d=Math.abs(Math.sin(l)),p=Math.abs(Math.cos(l)),v=c*p+u*d,m=u*p+c*d,e.width=v,e.height=m,t.fillStyle=f,t.fillRect(0,0,v,m),g=v/2,b=m/2,t.translate(g,b),t.rotate(l),t.translate(-g,-b),w=(v-c)/2,x=(m-u)/2,t.drawImage(n,0,0,c,u,w,x,c,u),C=t.getImageData(0,0,v,m),e.width=o,e.height=a,t.putImageData(C,-i,-s)):(e.width=o,e.height=a,t.fillStyle=f,t.fillRect(0,0,o,a),t.drawImage(n,i,s,o,a,0,0,o,a)),S=A.current,_=S.type,k=S.name,E=S.uid,M=function(e){return de(void 0,void 0,void 0,(function(){var t,n,r,o;return he(this,(function(a){switch(a.label){case 0:if(t=Object.assign(new File([e],k,{type:_}),{uid:E}),"function"!==typeof N.current)return[2,I.current(t)];if("boolean"!==typeof(n=N.current(t,[t]))&&!n)return console.error("beforeUpload must return a boolean or Promise"),[2];if(!0===n)return[2,I.current(t)];if(!1===n)return[2,W.current(new Error("not upload"))];if(!(n&&n instanceof Promise))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n];case 2:return(r=a.sent())instanceof File||r instanceof Blob?[2,I.current(r)]:(I.current(t),[3,4]);case 3:return o=a.sent(),W.current(o),[3,4];case 4:return[2]}}))}))},e.toBlob(M,_,h),[2]}))}))}),[f,h,y]),B=function(e){return r.createElement(r.Fragment,null,H,T&&r.createElement(o.Z,le({visible:!0,wrapClassName:"".concat(pe,"-modal"),title:e,onOk:U,onCancel:q,maskClosable:!1,destroyOnClose:!0},j),r.createElement(me,{ref:$,cropperRef:t,image:T,aspect:i,shape:c,grid:l,zoom:m,rotate:y,minZoom:w,maxZoom:C,cropperProps:O})))};return S?B(S):r.createElement(a.Z,null,(function(e,t){return B("zh-cn"===t?"\u7f16\u8f91\u56fe\u7247":"Edit image")}))}))},38136:function(e,t,n){e.exports=n(20166)},24872:function(e){"use strict";var t=!("undefined"===typeof window||!window.document||!window.document.createElement),n={canUseDOM:t,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:t&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};e.exports=n},65811:function(e){var t,n,r,o,a,i,s,c,u,l,d,h,p,f,v,m=!1;function g(){if(!m){m=!0;var e=navigator.userAgent,g=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),y=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(h=/\b(iPhone|iP[ao]d)/.exec(e),p=/\b(iP[ao]d)/.exec(e),l=/Android/i.exec(e),f=/FBAN\/\w+;/i.exec(e),v=/Mobile/i.exec(e),d=!!/Win64/.exec(e),g){(t=g[1]?parseFloat(g[1]):g[5]?parseFloat(g[5]):NaN)&&document&&document.documentMode&&(t=document.documentMode);var b=/(?:Trident\/(\d+.\d+))/.exec(e);i=b?parseFloat(b[1])+4:t,n=g[2]?parseFloat(g[2]):NaN,r=g[3]?parseFloat(g[3]):NaN,(o=g[4]?parseFloat(g[4]):NaN)?(g=/(?:Chrome\/(\d+\.\d+))/.exec(e),a=g&&g[1]?parseFloat(g[1]):NaN):a=NaN}else t=n=r=a=o=NaN;if(y){if(y[1]){var w=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);s=!w||parseFloat(w[1].replace("_","."))}else s=!1;c=!!y[2],u=!!y[3]}else s=c=u=!1}}var y={ie:function(){return g()||t},ieCompatibilityMode:function(){return g()||i>t},ie64:function(){return y.ie()&&d},firefox:function(){return g()||n},opera:function(){return g()||r},webkit:function(){return g()||o},safari:function(){return y.webkit()},chrome:function(){return g()||a},windows:function(){return g()||c},osx:function(){return g()||s},linux:function(){return g()||u},iphone:function(){return g()||h},mobile:function(){return g()||h||p||l||v},nativeApp:function(){return g()||f},android:function(){return g()||l},ipad:function(){return g()||p}};e.exports=y},95780:function(e,t,n){"use strict";var r,o=n(24872);o.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),e.exports=function(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,a=n in document;if(!a){var i=document.createElement("div");i.setAttribute(n,"return;"),a="function"===typeof i[n]}return!a&&r&&"wheel"===e&&(a=document.implementation.hasFeature("Events.wheel","3.0")),a}},20166:function(e,t,n){"use strict";var r=n(65811),o=n(95780);function a(e){var t=0,n=0,r=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,o=10*n,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||o)&&e.deltaMode&&(1==e.deltaMode?(r*=40,o*=40):(r*=800,o*=800)),r&&!t&&(t=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:o}}a.getEventType=function(){return r.firefox()?"DOMMouseScroll":o("wheel")?"wheel":"mousewheel"},e.exports=a},11096:function(e,t,n){"use strict";var r=n(37762),o=n(93433),a=n(4942),i=n(29439),s=n(15861),c=n(15671),u=n(43144),l=n(87757),d=n.n(l),h=function(){function e(t,n,r,o,a){var i=this;(0,c.Z)(this,e),this._legacyCanvasSize=e.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=t,this.$canvas=document.createElement("canvas"),r&&"object"===typeof r?this._onDecode=n:(r||o||a?console.warn("You're using a deprecated version of the QrScanner constructor which will be removed in the future"):console.warn("Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=n),n="object"===typeof r?r:{},this._onDecodeError=n.onDecodeError||("function"===typeof r?r:this._onDecodeError),this._calculateScanRegion=n.calculateScanRegion||("function"===typeof o?o:this._calculateScanRegion),this._preferredCamera=n.preferredCamera||a||this._preferredCamera,this._legacyCanvasSize="number"===typeof r?r:"number"===typeof o?o:this._legacyCanvasSize,this._maxScansPerSecond=n.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),t.disablePictureInPicture=!0,t.playsInline=!0,t.muted=!0;var s=!1;if(t.hidden&&(t.hidden=!1,s=!0),document.body.contains(t)||(document.body.appendChild(t),s=!0),r=t.parentElement,n.highlightScanRegion||n.highlightCodeOutline){if(o=!!n.overlay,this.$overlay=n.overlay||document.createElement("div"),(a=this.$overlay.style).position="absolute",a.display="none",a.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!o&&n.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch(u){}r.insertBefore(this.$overlay,this.$video.nextSibling)}n.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(t),requestAnimationFrame((function(){var e=window.getComputedStyle(t);"none"===e.display&&(t.style.setProperty("display","block","important"),s=!0),"visible"!==e.visibility&&(t.style.setProperty("visibility","visible","important"),s=!0),s&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),t.style.opacity="0",t.style.width="0",t.style.height="0",i.$overlay&&i.$overlay.parentElement&&i.$overlay.parentElement.removeChild(i.$overlay),delete i.$overlay,delete i.$codeOutlineHighlight),i.$overlay&&i._updateOverlay()})),t.addEventListener("play",this._onPlay),t.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=e.createQrEngine()}return(0,u.Z)(e,[{key:"hasFlash",value:function(){var t=(0,s.Z)(d().mark((function t(){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.$video.srcObject){t.next=7;break}if(this.$video.srcObject instanceof MediaStream){t.next=4;break}return t.abrupt("return",!1);case 4:n=this.$video.srcObject,t.next=10;break;case 7:return t.next=9,this._getCameraStream();case 9:n=t.sent.stream;case 10:return t.abrupt("return","torch"in n.getVideoTracks()[0].getSettings());case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return",!1);case 16:return t.prev=16,n&&n!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),e._stopVideoStream(n)),t.finish(16);case 19:case"end":return t.stop()}}),t,this,[[0,13,16,19]])})));return function(){return t.apply(this,arguments)}}()},{key:"isFlashOn",value:function(){return this._flashOn}},{key:"toggleFlash",value:function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._flashOn){e.next=5;break}return e.next=3,this.turnFlashOff();case 3:e.next=7;break;case 5:return e.next=7,this.turnFlashOn();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"turnFlashOn",value:function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._flashOn||this._destroyed||(this._flashOn=!0,!this._active||this._paused)){e.next=13;break}return e.prev=1,e.next=4,this.hasFlash();case 4:if(e.sent){e.next=6;break}throw"No flash available";case 6:return e.next=8,this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]});case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(1),this._flashOn=!1,e.t0;case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"turnFlashOff",value:function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._flashOn,!e.t0){e.next=5;break}return this._flashOn=!1,e.next=5,this._restartVideoStream();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),e._postWorkerMessage(this._qrEnginePromise,"close")}},{key:"start",value:function(){var t=(0,s.Z)(d().mark((function t(){var n,r,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._destroyed){t.next=2;break}throw Error("The QR scanner can not be started as it had been destroyed.");case 2:if(this._active&&!this._paused){t.next=30;break}if("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,document.hidden){t.next=30;break}if(this._paused=!1,!this.$video.srcObject){t.next=9;break}return t.next=7,this.$video.play();case 7:t.next=30;break;case 9:return t.prev=9,t.next=12,this._getCameraStream();case 12:if(n=t.sent,r=n.stream,o=n.facingMode,this._active&&!this._paused){t.next=19;break}e._stopVideoStream(r),t.next=24;break;case 19:return this._setVideoMirror(o),this.$video.srcObject=r,t.next=23,this.$video.play();case 23:this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch((function(){})));case 24:t.next=30;break;case 26:if(t.prev=26,t.t0=t.catch(9),this._paused){t.next=30;break}throw this._active=!1,t.t0;case 30:case"end":return t.stop()}}),t,this,[[9,26]])})));return function(){return t.apply(this,arguments)}}()},{key:"stop",value:function(){this.pause(),this._active=!1}},{key:"pause",value:function(){var t=(0,s.Z)(d().mark((function t(){var n,r,o=this,a=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.length>0&&void 0!==a[0]&&a[0],this._paused=!0,this._active){t.next=4;break}return t.abrupt("return",!0);case 4:if(this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none"),r=function(){o.$video.srcObject instanceof MediaStream&&(e._stopVideoStream(o.$video.srcObject),o.$video.srcObject=null)},!n){t.next=9;break}return t.abrupt("return",(r(),!0));case 9:return t.next=11,new Promise((function(e){return setTimeout(e,300)}));case 11:if(this._paused){t.next=13;break}return t.abrupt("return",!1);case 13:return r(),t.abrupt("return",!0);case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setCamera",value:function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t!==this._preferredCamera,!e.t0){e.next=5;break}return this._preferredCamera=t,e.next=5,this._restartVideoStream();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setGrayscaleWeights",value:function(t,n,r){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:t,green:n,blue:r,useIntegerApproximation:o})}},{key:"setInversionMode",value:function(t){e._postWorkerMessage(this._qrEnginePromise,"inversionMode",t)}},{key:"_onPlay",value:function(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}},{key:"_onLoadedMetaData",value:function(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}},{key:"_onVisibilityChange",value:function(){document.hidden?this.pause():this._active&&this.start()}},{key:"_calculateScanRegion",value:function(e){var t=Math.round(2/3*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-t)/2),y:Math.round((e.videoHeight-t)/2),width:t,height:t,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}},{key:"_updateOverlay",value:function(){var e=this;requestAnimationFrame((function(){if(e.$overlay){var t=e.$video,n=t.videoWidth,r=t.videoHeight,o=t.offsetWidth,a=t.offsetHeight,s=t.offsetLeft,c=t.offsetTop,u=window.getComputedStyle(t),l=u.objectFit,d=n/r,h=o/a;switch(l){case"none":var p=n,f=r;break;case"fill":p=o,f=a;break;default:("cover"===l?d>h:d<h)?p=(f=a)*d:f=(p=o)/d,"scale-down"===l&&(p=Math.min(p,n),f=Math.min(f,r))}var v=u.objectPosition.split(" ").map((function(e,t){var n=parseFloat(e);return e.endsWith("%")?(t?a-f:o-p)*n/100:n})),m=(0,i.Z)(v,2),g=m[0],y=m[1];u=e._scanRegion.width||n,h=e._scanRegion.height||r,l=e._scanRegion.x||0;var b=e._scanRegion.y||0;(d=e.$overlay.style).width="".concat(u/n*p,"px"),d.height="".concat(h/r*f,"px"),d.top="".concat(c+y+b/r*f,"px"),r=/scaleX\(-1\)/.test(t.style.transform),d.left="".concat(s+(r?o-g-p:g)+(r?n-l-u:l)/n*p,"px"),d.transform=t.style.transform}}))}},{key:"_scanFrame",value:function(){var t=this;!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)((0,s.Z)(d().mark((function n(){var r,o,a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(1>=t.$video.readyState){n.next=29;break}if(r=Date.now()-t._lastScanTimestamp,o=1e3/t._maxScansPerSecond,n.t0=r<o,!n.t0){n.next=6;break}return n.next=6,new Promise((function(e){return setTimeout(e,o-r)}));case 6:return t._lastScanTimestamp=Date.now(),n.prev=7,n.next=10,e.scanImage(t.$video,{scanRegion:t._scanRegion,qrEngine:t._qrEnginePromise,canvas:t.$canvas});case 10:a=n.sent,n.next=18;break;case 13:if(n.prev=13,n.t1=n.catch(7),t._active){n.next=17;break}return n.abrupt("return");case 17:t._onDecodeError(n.t1);case 18:if(n.t2=!e._disableBarcodeDetector,n.t2){n.next=25;break}return n.next=22,t._qrEnginePromise;case 22:n.t3=n.sent,n.t4=Worker,n.t2=n.t3 instanceof n.t4;case 25:if(n.t5=n.t2,n.t5){n.next=28;break}t._qrEnginePromise=e.createQrEngine();case 28:a?(t._onDecode?t._onDecode(a):t._legacyOnDecode&&t._legacyOnDecode(a.data),t.$codeOutlineHighlight&&(clearTimeout(t._codeOutlineHighlightRemovalTimeout),t._codeOutlineHighlightRemovalTimeout=void 0,t.$codeOutlineHighlight.setAttribute("viewBox","".concat(t._scanRegion.x||0," ")+"".concat(t._scanRegion.y||0," ")+"".concat(t._scanRegion.width||t.$video.videoWidth," ")+"".concat(t._scanRegion.height||t.$video.videoHeight)),t.$codeOutlineHighlight.firstElementChild.setAttribute("points",a.cornerPoints.map((function(e){var t=e.x,n=e.y;return"".concat(t,",").concat(n)})).join(" ")),t.$codeOutlineHighlight.style.display="")):t.$codeOutlineHighlight&&!t._codeOutlineHighlightRemovalTimeout&&(t._codeOutlineHighlightRemovalTimeout=setTimeout((function(){return t.$codeOutlineHighlight.style.display="none"}),100));case 29:t._scanFrame();case 30:case"end":return n.stop()}}),n,null,[[7,13]])}))))}},{key:"_onDecodeError",value:function(t){t!==e.NO_QR_CODE_FOUND&&console.log(t)}},{key:"_getCameraStream",value:function(){var e=(0,s.Z)(d().mark((function e(){var t,n,r,i,s,c,u,l,h=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.mediaDevices){e.next=2;break}throw"Camera not found.";case 2:t=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",r=(n=[{width:{min:1024}},{width:{min:768}},{}]).map((function(e){return Object.assign({},e,(0,a.Z)({},t,{exact:h._preferredCamera}))})),i=0,s=[].concat((0,o.Z)(r),n);case 4:if(!(i<s.length)){e.next=19;break}return c=s[i],e.prev=6,e.next=9,navigator.mediaDevices.getUserMedia({video:c,audio:!1});case 9:return u=e.sent,l=this._getFacingMode(u)||(c.facingMode?this._preferredCamera:"environment"===this._preferredCamera?"user":"environment"),e.abrupt("return",{stream:u,facingMode:l});case 14:e.prev=14,e.t0=e.catch(6);case 16:i++,e.next=4;break;case 19:throw"Camera not found.";case 20:case"end":return e.stop()}}),e,this,[[6,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"_restartVideoStream",value:function(){var e=(0,s.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._paused,e.next=3,this.pause(!0);case 3:if(e.t1=e.sent,!e.t1){e.next=6;break}e.t1=!t;case 6:if(e.t0=e.t1,!e.t0){e.next=9;break}e.t0=this._active;case 9:if(e.t2=e.t0,!e.t2){e.next=13;break}return e.next=13,this.start();case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_setVideoMirror",value:function(e){this.$video.style.transform="scaleX("+("user"===e?-1:1)+")"}},{key:"_getFacingMode",value:function(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}}],[{key:"WORKER_PATH",set:function(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}},{key:"hasCamera",value:function(){var t=(0,s.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.listCameras(!1);case 3:return t.abrupt("return",!!t.sent.length);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}()},{key:"listCameras",value:function(){var t=(0,s.Z)(d().mark((function t(){var n,r,o,a=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.length>0&&void 0!==a[0]&&a[0],navigator.mediaDevices){t.next=3;break}return t.abrupt("return",[]);case 3:if(r=function(){var e=(0,s.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:return e.abrupt("return",e.sent.filter((function(e){return"videoinput"===e.kind})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.prev=4,t.t0=n,!t.t0){t.next=10;break}return t.next=9,r();case 9:t.t0=t.sent.every((function(e){return!e.label}));case 10:if(t.t1=t.t0,!t.t1){t.next=15;break}return t.next=14,navigator.mediaDevices.getUserMedia({audio:!1,video:!0});case 14:o=t.sent;case 15:t.next=19;break;case 17:t.prev=17,t.t2=t.catch(4);case 19:return t.prev=19,t.next=22,r();case 22:return t.abrupt("return",t.sent.map((function(e,t){return{id:e.deviceId,label:e.label||(0===t?"Default Camera":"Camera ".concat(t+1))}})));case 23:return t.prev=23,o&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),e._stopVideoStream(o)),t.finish(23);case 26:case"end":return t.stop()}}),t,null,[[4,17],[19,,23,26]])})));return function(){return t.apply(this,arguments)}}()},{key:"scanImage",value:function(){var t=(0,s.Z)(d().mark((function t(n,r,o,a){var c,u,l,h,p,f,v,m,g,y,b,w,x,C=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=C.length>4&&void 0!==C[4]&&C[4],u=C.length>5&&void 0!==C[5]&&C[5],h=!1,r&&("scanRegion"in r||"qrEngine"in r||"canvas"in r||"disallowCanvasResizing"in r||"alsoTryWithoutScanRegion"in r||"returnDetailedScanResult"in r)?(l=r.scanRegion,o=r.qrEngine,a=r.canvas,c=r.disallowCanvasResizing||!1,u=r.alsoTryWithoutScanRegion||!1,h=!0):r||o||a||c||u?console.warn("You're using a deprecated api for scanImage which will be removed in the future."):console.warn("Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),r=!!o,t.prev=5,t.next=8,Promise.all([o||e.createQrEngine(),e._loadImage(n)]);case 8:if(v=t.sent,m=(0,i.Z)(v,2),o=m[0],p=m[1],g=e._drawToCanvas(p,l,a,c),y=(0,i.Z)(g,2),a=y[0],f=y[1],!(o instanceof Worker)){t.next=24;break}return w=o,r||e._postWorkerMessageSync(w,"inversionMode","both"),t.next=21,new Promise((function(t,n){var r,o,i,s=-1;o=function(a){a.data.id===s&&(w.removeEventListener("message",o),w.removeEventListener("error",i),clearTimeout(r),null!==a.data.data?t({data:a.data.data,cornerPoints:e._convertPoints(a.data.cornerPoints,l)}):n(e.NO_QR_CODE_FOUND))},i=function(e){w.removeEventListener("message",o),w.removeEventListener("error",i),clearTimeout(r),n("Scanner error: "+(e?e.message||e:"Unknown Error"))},w.addEventListener("message",o),w.addEventListener("error",i),r=setTimeout((function(){return i("timeout")}),1e4);var c=f.getImageData(0,0,a.width,a.height);s=e._postWorkerMessageSync(w,"decode",c,[c.data.buffer])}));case 21:b=t.sent,t.next=27;break;case 24:return t.next=26,Promise.race([new Promise((function(e,t){return window.setTimeout((function(){return t("Scanner error: timeout")}),1e4)})),(0,s.Z)(d().mark((function t(){var r,s,h;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.detect(a);case 3:if(r=t.sent,s=(0,i.Z)(r,1),h=s[0]){t.next=8;break}throw e.NO_QR_CODE_FOUND;case 8:return t.abrupt("return",{data:h.rawValue,cornerPoints:e._convertPoints(h.cornerPoints,l)});case 11:if(t.prev=11,t.t0=t.catch(0),h=t.t0.message||t.t0,!/not implemented|service unavailable/.test(h)){t.next=16;break}return t.abrupt("return",(e._disableBarcodeDetector=!0,e.scanImage(n,{scanRegion:l,canvas:a,disallowCanvasResizing:c,alsoTryWithoutScanRegion:u})));case 16:throw"Scanner error: ".concat(h);case 17:case"end":return t.stop()}}),t,null,[[0,11]])})))()]);case 26:b=t.sent;case 27:return t.abrupt("return",h?b:b.data);case 30:if(t.prev=30,t.t0=t.catch(5),l&&u){t.next=34;break}throw t.t0;case 34:return t.next=36,e.scanImage(n,{qrEngine:o,canvas:a,disallowCanvasResizing:c});case 36:return x=t.sent,t.abrupt("return",h?x:x.data);case 38:return t.prev=38,r||e._postWorkerMessage(o,"close"),t.finish(38);case 41:case"end":return t.stop()}}),t,null,[[5,30,38,41]])})));return function(e,n,r,o){return t.apply(this,arguments)}}()},{key:"createQrEngine",value:function(){var t=(0,s.Z)(d().mark((function t(r){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&console.warn("Specifying a worker path is not required and not supported anymore."),t.t0=!e._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats,!t.t0){t.next=6;break}return t.next=5,BarcodeDetector.getSupportedFormats();case 5:t.t0=t.sent.includes("qr_code");case 6:if(!t.t0){t.next=10;break}t.t1=new BarcodeDetector({formats:["qr_code"]}),t.next=11;break;case 10:t.t1=n.e(6684).then(n.bind(n,96684)).then((function(e){return e.createWorker()}));case 11:return t.abrupt("return",t.t1);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"_convertPoints",value:function(e,t){if(!t)return e;var n=t.x||0,o=t.y||0,a=t.width&&t.downScaledWidth?t.width/t.downScaledWidth:1;t=t.height&&t.downScaledHeight?t.height/t.downScaledHeight:1;var i,s=(0,r.Z)(e);try{for(s.s();!(i=s.n()).done;){var c=i.value;c.x=c.x*a+n,c.y=c.y*t+o}}catch(u){s.e(u)}finally{s.f()}return e}},{key:"_stopVideoStream",value:function(e){var t,n=(0,r.Z)(e.getTracks());try{for(n.s();!(t=n.n()).done;){var o=t.value;o.stop(),e.removeTrack(o)}}catch(a){n.e(a)}finally{n.f()}}},{key:"_drawToCanvas",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n=n||document.createElement("canvas");var o=t&&t.x?t.x:0,a=t&&t.y?t.y:0,i=t&&t.width?t.width:e.videoWidth||e.width,s=t&&t.height?t.height:e.videoHeight||e.height;return r||(r=t&&t.downScaledWidth?t.downScaledWidth:i,t=t&&t.downScaledHeight?t.downScaledHeight:s,n.width!==r&&(n.width=r),n.height!==t&&(n.height=t)),(t=n.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,t.drawImage(e,o,a,i,s,0,0,n.width,n.height),[n,t]}},{key:"_loadImage",value:function(){var t=(0,s.Z)(d().mark((function t(n){var r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n instanceof Image)){t.next=4;break}return t.next=3,e._awaitImageLoad(n);case 3:return t.abrupt("return",n);case 4:if(!(n instanceof HTMLVideoElement||n instanceof HTMLCanvasElement||n instanceof SVGImageElement||"OffscreenCanvas"in window&&n instanceof OffscreenCanvas||"ImageBitmap"in window&&n instanceof ImageBitmap)){t.next=6;break}return t.abrupt("return",n);case 6:if(!(n instanceof File||n instanceof Blob||n instanceof URL||"string"===typeof n)){t.next=18;break}return(r=new Image).src=n instanceof File||n instanceof Blob?URL.createObjectURL(n):n.toString(),t.prev=9,t.next=12,e._awaitImageLoad(r);case 12:return t.abrupt("return",r);case 13:return t.prev=13,(n instanceof File||n instanceof Blob)&&URL.revokeObjectURL(r.src),t.finish(13);case 16:t.next=19;break;case 18:throw"Unsupported image type.";case 19:case"end":return t.stop()}}),t,null,[[9,,13,16]])})));return function(e){return t.apply(this,arguments)}}()},{key:"_awaitImageLoad",value:function(){var e=(0,s.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.complete&&0!==t.naturalWidth,e.t0){e.next=4;break}return e.next=4,new Promise((function(e,n){var r=function r(o){t.removeEventListener("load",r),t.removeEventListener("error",r),o instanceof ErrorEvent?n("Image load error"):e()};t.addEventListener("load",r),t.addEventListener("error",r)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_postWorkerMessage",value:function(){var t=(0,s.Z)(d().mark((function t(n,r,o,a){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,n;case 3:return t.t1=t.sent,t.t2=r,t.t3=o,t.t4=a,t.abrupt("return",t.t0._postWorkerMessageSync.call(t.t0,t.t1,t.t2,t.t3,t.t4));case 8:case"end":return t.stop()}}),t)})));return function(e,n,r,o){return t.apply(this,arguments)}}()},{key:"_postWorkerMessageSync",value:function(t,n,r,o){if(!(t instanceof Worker))return-1;var a=e._workerMessageId++;return t.postMessage({id:a,type:n,data:r},o),a}}]),e}();h.DEFAULT_CANVAS_SIZE=400,h.NO_QR_CODE_FOUND="No QR code found",h._disableBarcodeDetector=!1,h._workerMessageId=0,t.Z=h},37762:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(40181);function o(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw i}}}}}}]);
//# sourceMappingURL=2613.9e8f99a7.chunk.js.map