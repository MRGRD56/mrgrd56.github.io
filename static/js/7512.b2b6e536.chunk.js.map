{"version":3,"file":"static/js/7512.b2b6e536.chunk.js","mappings":"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","sources":["hooks/useAsync.ts","webpack://mrgrd56.github.io/./src/pages/githubPagesPage/components/devProjectCard/DevProjectCard.module.scss?15c8","assets/img/github-logo-dark.svg","pages/githubPagesPage/components/devProjectCard/DevProjectCard.tsx","webpack://mrgrd56.github.io/./src/pages/githubPagesPage/components/devProjectsList/DevProjectsList.module.scss?3991","pages/githubPagesPage/components/devProjectsList/DevProjectsListPure.tsx","utils/api/octokit.ts","utils/api/fetchAllPages.ts","actions/github/api/getUserRepositories.ts","actions/github/getProjects.ts","pages/githubPagesPage/components/devProjectsList/DevProjectsList.tsx","pages/githubPagesPage/GithubPagesListPage.tsx"],"sourcesContent":["import { useCallback, useEffect, useState } from 'react';\nimport { isFunction } from 'lodash';\n\nexport interface AsyncHookParams<T> {\n    onSuccess?: (data: T) => void;\n    onError?: (error: unknown) => void;\n    onComplete?: () => void;\n    onLoadingChange?: (isLoading: boolean) => void;\n    onErrorChange?: (error: unknown) => void;\n    initialResult?: T;\n    initialIsLoading?: boolean;\n    initialError?: boolean;\n    doInvokeOnMount?: boolean;\n}\n\nconst useAsync = <T>(promiseFn: (() => Promise<T>) | Promise<T>, params?: AsyncHookParams<T>) => {\n    const {\n        onSuccess,\n        onError,\n        onComplete,\n        onLoadingChange,\n        onErrorChange,\n        initialResult,\n        initialIsLoading,\n        initialError,\n        doInvokeOnMount\n    } = params ?? {};\n\n    const [result, setResult] = useState<T | undefined>(initialResult);\n    const [isLoading, setIsLoading] = useState<boolean>(initialIsLoading ?? false);\n    const [error, setError] = useState<unknown>(initialError);\n\n    const changeResult = useCallback(\n        (value: T) => {\n            setResult(value);\n            onSuccess?.(value);\n        },\n        [onSuccess]\n    );\n\n    const changeLoading = useCallback(\n        (value: boolean) => {\n            setIsLoading(value);\n            onLoadingChange?.(value);\n        },\n        [onLoadingChange]\n    );\n\n    const changeError = useCallback(\n        (value: unknown) => {\n            setError(value);\n            onErrorChange?.(value);\n        },\n        [onErrorChange]\n    );\n\n    const invoke = useCallback(async () => {\n        try {\n            changeLoading(true);\n            changeError(undefined);\n\n            const result: T = isFunction(promiseFn) ? await promiseFn() : await promiseFn;\n\n            changeResult(result);\n        } catch (e) {\n            changeError(e);\n            onError?.(e);\n        } finally {\n            changeLoading(false);\n            onComplete?.();\n        }\n    }, [changeLoading, changeError, promiseFn, onSuccess, onError, onComplete]);\n\n    useEffect(() => {\n        if (doInvokeOnMount) {\n            invoke();\n        }\n    }, []);\n\n    return {\n        result,\n        invoke,\n        isLoading,\n        error\n    };\n};\n\nexport default useAsync;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"DevProjectCard_container__s6l5K\",\"githubRepoLink\":\"DevProjectCard_githubRepoLink__IzmJD\",\"githubLogo\":\"DevProjectCard_githubLogo__fb12S\"};","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgGithubLogoDark(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 1024,\n    height: 1024,\n    viewBox: \"0 0 1024 1024\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z\",\n    transform: \"scale(64)\",\n    fill: \"#fdfdfd\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGithubLogoDark);\nexport default __webpack_public_path__ + \"static/media/github-logo-dark.019f034e2bdc968c41ab0f370a530a0d.svg\";\nexport { ForwardRef as ReactComponent };","import React, { FunctionComponent } from 'react';\nimport { DevProject } from '../../../../types';\nimport styles from './DevProjectCard.module.scss';\nimport githubLogo from '../../../../assets/img/github-logo-dark.svg';\nimport ExternalLink from '../../../../components/ExternalLink';\n\ninterface Props {\n    project: DevProject;\n}\n\nconst DevProjectCard: FunctionComponent<Props> = ({ project }) => {\n    return (\n        <div className={styles.container}>\n            <h2>\n                <ExternalLink href={project.appUrl}>{project.name}</ExternalLink>\n            </h2>\n            <div className=\"text-center\">{project.description}</div>\n            <ExternalLink href={project.repoUrl} className={styles.githubRepoLink}>\n                <img src={githubLogo} alt=\"GitHub\" className={styles.githubLogo} />\n                <div>GitHub Repository</div>\n            </ExternalLink>\n        </div>\n    );\n};\n\nexport default DevProjectCard;\n","// extracted by mini-css-extract-plugin\nexport default {\"antd-text-primary\":\"DevProjectsList_antd-text-primary__6TTXL\",\"container\":\"DevProjectsList_container__a27ey\"};","import React, { FunctionComponent } from 'react';\nimport { DevProject } from '../../../../types';\nimport DevProjectCard from '../devProjectCard/DevProjectCard';\nimport styles from './DevProjectsList.module.scss';\n\ninterface Props {\n    projects: DevProject[] | undefined;\n}\n\nconst DevProjectsListPure: FunctionComponent<Props> = ({ projects }) => {\n    if (!projects) {\n        return null;\n    }\n\n    return (\n        <div className={styles.container}>\n            {projects.map((project) => (\n                <DevProjectCard key={project.id} project={project} />\n            ))}\n        </div>\n    );\n};\n\nexport default React.memo(DevProjectsListPure);\n","import { Octokit } from 'octokit';\nimport { GITHUB_TOKEN } from '../../constants/env';\n\nconst octokit = new Octokit({\n    auth: GITHUB_TOKEN\n});\n\nexport default octokit;\n","const fetchAllPages = async <T>(fetchPage: (page: number) => Promise<T[]>): Promise<T[]> => {\n    const allPages: T[] = [];\n\n    for (let pageIndex = 1; ; pageIndex++) {\n        const pageData = await fetchPage(pageIndex);\n        if (pageData?.length > 0) {\n            allPages.push(...pageData);\n        } else {\n            break;\n        }\n    }\n\n    return allPages;\n};\n\nexport default fetchAllPages;\n","import { UserData, UserRepository } from '../../../types/github';\nimport octokit from '../../../utils/api/octokit';\nimport { isString } from 'lodash';\nimport fetchAllPages from '../../../utils/api/fetchAllPages';\n\nconst getUserRepositories = async (user: UserData | string): Promise<UserRepository[]> => {\n    const username = isString(user) ? user : user.login;\n\n    const fetchPage = async (page: number) => {\n        const response = await octokit.request('GET /users/{username}/repos', {\n            username,\n            per_page: 999,\n            page\n        });\n        return response.data as UserRepository[];\n    };\n\n    return await fetchAllPages(fetchPage);\n};\n\nexport default getUserRepositories;\n","import { AppThunkAction } from '../../reducers';\nimport { UserData, UserRepository } from '../../types/github';\nimport getUserRepositories from './api/getUserRepositories';\nimport { projectsLoaded } from '../../reducers/github';\nimport { GithubDevProject } from '../../types';\n\nconst getGithubPagesRepositories = async (user: UserData | string) => {\n    const repositories = await getUserRepositories(user);\n    return repositories.filter((repository) => repository.has_pages);\n};\n\nconst getGithubRepositoryAppUrl = (repo: UserRepository): string | undefined => {\n    if (!repo.has_pages) {\n        return undefined;\n    }\n\n    const repoFullName = repo.full_name;\n    const match = /^(.+)\\/(.+)$/.exec(repoFullName);\n    if (!match) {\n        return undefined;\n    }\n    const [, owner, repoName] = match;\n\n    const pagesHostname = `${owner.toLowerCase()}.github.io`;\n    const pagesBaseUrl = `https://${pagesHostname}/`;\n\n    if (repoName.toLowerCase() === pagesHostname) {\n        return pagesBaseUrl;\n    }\n\n    return pagesBaseUrl + repoName;\n};\n\ninterface Params {\n    user: UserData | string;\n}\n\nconst getProjects =\n    ({ user }: Params): AppThunkAction<Promise<void>> =>\n    async (dispatch) => {\n        const repositories = await getGithubPagesRepositories(user);\n\n        const projects: GithubDevProject[] = repositories.map((value) => ({\n            name: value.name,\n            id: value.id,\n            repoUrl: value.html_url,\n            appUrl: getGithubRepositoryAppUrl(value),\n            description: value.description ?? undefined,\n            stars: value.stargazers_count\n        }));\n\n        dispatch(projectsLoaded({ projects: projects }));\n    };\n\nexport default getProjects;\n","import React, { useCallback } from 'react';\nimport DevProjectsListPure from './DevProjectsListPure';\nimport { useDispatch, useSelector } from '../../../../reducers';\nimport getProjects from '../../../../actions/github/getProjects';\nimport { Result } from 'antd';\nimport useAsync from '../../../../hooks/useAsync';\nimport { GITHUB_USER } from '../../../../constants/env';\nimport RouteLoading from '../../../../layouts/routeLoading/RouteLoading';\n\nconst DevProjectsList = () => {\n    const dispatch = useDispatch();\n    // const githubUser = useGithubUser();\n    const projects = useSelector((state) => state.github.projects);\n\n    const fetchData = useCallback(async () => {\n        if (projects) {\n            return;\n        }\n\n        // const user = await githubUser.getUser();\n        await dispatch(getProjects({ user: GITHUB_USER }));\n    }, [projects, dispatch]);\n\n    const { isLoading, error } = useAsync(fetchData, { doInvokeOnMount: true });\n\n    if (error) {\n        return <Result status=\"error\" title=\"An error occurred\" subTitle=\"Unable to load the projects\" />;\n    }\n\n    if (isLoading) {\n        return <RouteLoading />;\n    }\n\n    return <DevProjectsListPure projects={projects} />;\n};\n\nexport default DevProjectsList;\n","import React, { FunctionComponent } from 'react';\nimport DevProjectsList from './components/devProjectsList/DevProjectsList';\nimport PageContainer from '../../layouts/pages/pageContainer/PageContainer';\n\nconst GithubPagesListPage: FunctionComponent = () => (\n    <PageContainer>\n        <DevProjectsList />\n    </PageContainer>\n);\n\nexport default GithubPagesListPage;\n"],"names":["promiseFn","params","onSuccess","onError","onComplete","onLoadingChange","onErrorChange","initialResult","initialIsLoading","initialError","doInvokeOnMount","useState","result","setResult","isLoading","setIsLoading","error","setError","changeResult","useCallback","value","changeLoading","changeError","invoke","undefined","isFunction","useEffect","project","className","styles","ExternalLink","href","appUrl","name","description","repoUrl","src","githubLogo","alt","DevProjectsListPure","projects","map","id","React","Octokit","auth","GITHUB_TOKEN","fetchAllPages","fetchPage","allPages","pageIndex","pageData","length","push","getUserRepositories","user","username","isString","login","page","octokit","per_page","response","data","getGithubPagesRepositories","repositories","filter","repository","has_pages","getGithubRepositoryAppUrl","repo","repoFullName","full_name","match","exec","owner","repoName","pagesHostname","toLowerCase","pagesBaseUrl","dispatch","html_url","stars","stargazers_count","projectsLoaded","useDispatch","useSelector","state","github","fetchData","getProjects","GITHUB_USER","useAsync","status","title","subTitle","RouteLoading","PageContainer"],"sourceRoot":""}